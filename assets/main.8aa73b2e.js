var e=Object.defineProperty,t=Object.defineProperties,i=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,n=(t,i,a)=>i in t?e(t,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[i]=a,r=(e,t)=>{for(var i in t||(t={}))s.call(t,i)&&n(e,i,t[i]);if(a)for(var i of a(t))o.call(t,i)&&n(e,i,t[i]);return e},l=(e,a)=>t(e,i(a));import{m as c,a as d,b as u,c as h,d as p,e as m,f as v,g,h as f,i as y,j as b,k as _,l as w,n as k,o as C,p as S,q as $,r as x,s as A,t as L,u as M,v as I,w as E,x as P,y as T,z as O,A as D,B as V,C as G,D as F,E as R,F as N,G as j,H as B,I as H,J as z,K as U,L as q,M as Y,N as W,O as K,P as Q,Q as J,R as X,S as Z,T as ee,U as te,V as ie,W as ae,X as se,Y as oe,Z as ne,_ as re,$ as le,a0 as ce,a1 as de,a2 as ue,a3 as he,a4 as pe,a5 as me,a6 as ve,a7 as ge,a8 as fe,a9 as ye,aa as be,ab as _e,ac as we,ad as ke,ae as Ce,af as Se,ag as $e,ah as xe,ai as Ae,aj as Le,ak as Me,al as Ie,am as Ee,an as Pe,ao as Te,ap as Oe,aq as De,ar as Ve,as as Ge,at as Fe,au as Re,av as Ne,aw as je,ax as Be,ay as He,az as ze,aA as Ue,aB as qe,aC as Ye,aD as We,aE as Ke,aF as Qe,aG as Je,aH as Xe,aI as Ze,aJ as et,aK as tt,aL as it,aM as at,aN as st,aO as ot,aP as nt,aQ as rt,aR as lt,aS as ct,aT as dt,aU as ut,aV as ht,aW as pt,aX as mt,aY as vt,aZ as gt,a_ as ft,a$ as yt,b0 as bt,b1 as _t,b2 as wt,b3 as kt,b4 as Ct,b5 as St,b6 as $t,b7 as xt,b8 as At,b9 as Lt,ba as Mt,bb as It,bc as Et,bd as Pt,be as Tt,bf as Ot,bg as Dt,bh as Vt,bi as Gt,bj as Ft,bk as Rt,bl as Nt,bm as jt,bn as Bt,bo as Ht,bp as zt,bq as Ut,br as qt,bs as Yt,bt as Wt,bu as Kt,bv as Qt,bw as Jt,bx as Xt,by as Zt,bz as ei,bA as ti,bB as ii,bC as ai,bD as si,bE as oi,bF as ni,bG as ri,bH as li,bI as ci,bJ as di,bK as ui,bL as hi}from"./vendor.f7b02bb7.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const i of e)if("childList"===i.type)for(const e of i.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const pi=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",ytChat:"M20,2H4C2.9,2,2,2.9,2,4v18l4-4h14c1.1,0,2-0.9,2-2V4C22,2.9,21.1,2,20,2zM9.9,10.8v3.8h-2v-3.8L5.1,6.6h2.4l1.4,2.2 l1.4-2.2h2.4L9.9,10.8zM18.9,8.6h-2v6h-2v-6h-2v-2h6V8.6z",tlChat:"M20,2H4C2.9,2,2,2.9,2,4v18l4-4h14c1.1,0,2-0.9,2-2V4C22,2.9,21.1,2,20,2z M4,10h4v2H4V10zM14,16H4v-2h10V16z M20,16h-4v-2 h4V16z M20,12H10v-2h10V12z",mdiAccountBoxMultiple:c,mdiAccountCircleOutline:d,mdiAnimationPlay:u,mdiArrowLeft:h,mdiClipboardPlusOutline:p,mdiClose:m,mdiCog:v,mdiDatabaseOff:g,mdiDelete:f,mdiDiscord:y,mdiDotsVertical:b,mdiEarth:_,mdiGoogle:w,mdiHeart:k,mdiHelpCircle:C,mdiHome:S,mdiLoginVariant:$,mdiLogoutVariant:x,mdiOpenInNew:A,mdiMagnify:L,mdiMapMarker:M,mdiMenu:I,mdiMessageCogOutline:E,mdiMusic:P,mdiPencil:T,mdiPlay:O,mdiPlaylistMusic:D,mdiPlaylistPlay:V,mdiPlaylistPlus:G,mdiRefresh:F,mdiStarFourPointsOutline:R,mdiTranslate:N,mdiTwitter:j,mdiYoutube:B,mdiMenuDown:H,mdiPlusBox:z,mdiCheck:U,mdiGridLarge:q,mdiGrid:Y,mdiSquareOutline:W,mdiChevronDown:K,mdiChevronUp:Q,mdiChevronLeft:J,mdiChevronRight:X,mdiFullscreen:Z,mdiViewDashboard:ee,mdiVolumeHigh:te,mdiVolumeMute:ie,mdiFlag:ae,mdiStar:se,mdiCalendar:oe,mdiTheater:ne,mdiSelectMultiple:re,mdiSelectAll:le,mdiSelectOff:ce,mdiContentSaveEdit:de,mdiPinOutline:ue}),mi={},vi=function(e,t){return t&&0!==t.length?Promise.all(t.map((e=>{if((e=`/Nabidex/${e}`)in mi)return;mi[e]=!0;const t=e.endsWith(".css"),i=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${i}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script",a.crossOrigin=""),a.href=e,document.head.appendChild(a),t?new Promise(((e,t)=>{a.addEventListener("load",e),a.addEventListener("error",t)})):void 0}))).then((()=>e())):e()};he.extend(pe),he.extend(me),he.extend(ve),he.extend(ge),he.extend(fe);function gi(e){return`${e<0?"-":""}${e>36e5?he.utc(Math.abs(e)).format("H:mm:ss"):he.utc(Math.abs(e)).format("m:ss")}`}function fi(e,t){return he(e)}function yi(e,t="en",i,a=!0,s=he()){let o;if(!e)return"?";const n=s.diff(e,"minutes");if(Math.abs(n)<1)return i("time.soon");if(!a&&n>0)return i("time.soon");if(Math.abs(s.diff(e,"days"))>60)return fi(e).format("ll");if(Math.abs(s.diff(e,"hour"))>23)return`${fi(e).format("l")} (${fi(e).format("LT")})`;const r=fi(e);return new Date(e)>Date.now()?(o=i("time.diff_future_date",[r.fromNow(),r.format((r.isTomorrow()?"ddd ":"")+"LT")]),o):(o=i("time.distance_past_date",[fi(e).fromNow()]),o)}function bi(e){return new Date(1e3*e).toISOString().substr(11,8)}he.extend(ye,{thresholds:[{l:"s",r:1},{l:"m",r:1},{l:"mm",r:59,d:"minute"},{l:"h",r:1},{l:"hh",r:23,d:"hour"},{l:"d",r:1},{l:"dd",r:29,d:"day"},{l:"M",r:1},{l:"MM",r:11,d:"month"},{l:"y"},{l:"yy",d:"year"}]});const _i=Object.freeze({VTUBER:"vtuber",SUBBER:"subber"});Object.freeze({CLIP:"clip",STREAM:"stream"});const wi=Object.freeze({PLAYING:1,PAUSED:0}),ki=Object.freeze({LOOP:0,LOOPONE:1,SHUFFLE:2,NATURAL:4}),Ci=Object.freeze({"Atelier Live":"Atelier",Chukorara:"Chuko","Eilene Family":"Eilene","Hanayori Joshiryo":"Hana",Hololive:"Holo",Independents:"Indie","Kizuna Ai Inc.":"Kizuna",Marbl_s:"Marbl",Nijisanji:"Niji",Masquerade:"Masq","Riot Music":"Riot","Nori Pro":"Nori","Aogiri Highschool":"Aogiri",KAMITSUBAKI:"KT","VOICE-ORE":"V.O.","Hoshimeguri Gakuen":"Stellar","V Dimension.Creators":"VDC",Tsunderia:"Tsun","Unreal Night Girls":"UNG","X enc'ount":"X'","Yuni Create":"Yuni","All Vtubers":"Vtuber"}),Si=/(?:https?:\/\/)?(?:www\.)?youtu(?:be\.com\/)(?:channel|c)\/([\w\-\_]*)/i,$i=/((?:https?:)?\/\/)?((?:www|m)\.)?((?:youtube\.com|youtu.be|holodex.net))(\/(?:[\w\-]+\?v=|embed\/|v\/|watch\/)?)([\w\-]+)(\S+)?/i,xi=Object.freeze([{text:"English",value:"en"},{text:"日本語",value:"ja"},{text:"Español",value:"es"},{text:"中文",value:"zh"},{text:"Bahasa Indonesia / Melayu",value:"id"},{text:"Русский язык",value:"ru"},{text:"한국어",value:"ko"}]),Ai=Object.freeze({TOKEN:"token",FAVORITES:"favorites"}),Li="https://proxy.nupa.moe/holodex/api",Mi=`${window.location.origin}`,Ii=be.create({baseURL:"https://proxy.nupa.moe/holodex/api/v2"}),Ei=be.create({baseURL:"https://proxy.nupa.moe"}),Pi={orgs:()=>fetch(`${Mi}/orgs.json`).then((e=>e.json())),stats:()=>Ii({url:"stats.json",baseURL:Mi}),channels(e){const t=_e.stringify(e);return Ii.get(`/channels?${t}`)},videos(e){const t=_e.stringify(e);return Ii.get(`/videos?${t}`)},live(e){const t=_e.stringify(e);return Ii.get(`/live?${t}`).then((e=>e.data.filter((e=>!(!e.start_actual&&he().isAfter(he(e.start_scheduled).add(2,"h")))))))},channel:e=>Ii.get(`/channels/${e}`),video(e,t,i){const a=_e.stringify({lang:t,c:i});return Ii.get(`/videos/${e}?${a}`)},comments:e=>Ii.get(`/videos/${e}/comments`),clips(e){const t=_e.stringify(e);return Ii.get(`/clips?${t}`)},searchAutocomplete(e){const t=e.match(Si),i=e.match($i);return t&&!t[0].includes("/c/")?Ii.get(`/search/autocomplete?q=${t[1]}`):i?{data:[{type:"video url",value:`${i[5]}`}]}:Ii.get(`/search/autocomplete?q=${e}`)},searchVideo:e=>Ii.post("/search/videoSearch",e),searchComments:e=>Ii.post("/search/commentSearch",e),searchChannel:e=>Ii.post("/search/channelSearch",e),channelVideos(e,{type:t="videos",query:i}){const a=_e.stringify(i);return Ii.get(`/channels/${e}/${t}?${a}`)},login:(e,t,i)=>Ii.post("/user/login",{token:t,service:i},{headers:e?{Authorization:`BEARER ${e}`}:{}}),loginIsValid:e=>Ii.get("/user/check",{headers:e?{Authorization:`BEARER ${e}`}:{}}).catch((()=>!1)),resetAPIKey:e=>Ii.get("/user/createKey",{headers:e?{Authorization:`BEARER ${e}`}:{}}).catch((()=>alert("something went wrong creating your key..."))),favorites:e=>Ii.get("/users/favorites",{headers:e?{Authorization:`BEARER ${e}`}:{}}),favoritesVideos(e,t){const i=_e.stringify(t);return Ii.get(`/users/videos?${i}`,{headers:e?{Authorization:`BEARER ${e}`}:{}})},favoritesLive:({includePlaceholder:e=!1},t)=>Ii.get(`/users/live?includePlaceholder=${e}`,{headers:t?{Authorization:`BEARER ${t}`}:{}}).then((e=>e.data.filter((e=>!(!e.start_actual&&he().isAfter(he(e.start_scheduled).add(2,"h"))))).filter((e=>he(e.start_scheduled).isBefore(he().add(3,"w")))))),patchFavorites:(e,t)=>Ii.patch("/users/favorites",t,{headers:e?{Authorization:`BEARER ${e}`}:{}}),topics:()=>Ii.get("/topics"),topicSet:(e,t,i)=>Ii.post("/topics/video",{videoId:t,topicId:e},{headers:i?{Authorization:`BEARER ${i}`}:{}}),rotation:()=>Ii.get("/rotation"),songListByVideo(e,t,i){const a=i?"_":Date.now();return Ii.post(`/songs/latest?c=${a}`,{channel_id:e,video_id:t,limit:999})},tryCreateSong:(e,t)=>Ii.put("/songs",e,{headers:t?{Authorization:`BEARER ${t}`}:{}}),deleteSong:(e,t)=>Ii.delete("/songs",{data:r({},e),headers:t?{Authorization:`BEARER ${t}`}:{}}),async chatHistory(e){const{data:t}=await Ei.get("/github/repos/vicnabi/nabidex/issues?labels=data"),i=t.find((t=>t.title===e)).number;return Ei.get(`/github/repos/vicnabi/nabidex/issues/${i}/comments`)},getMentions:e=>Ii.get(`videos/${e}/mentions`),deleteMentions:(e,t,i)=>Ii.delete(`videos/${e}/mentions`,{data:{channel_ids:t},headers:i?{Authorization:`BEARER ${i}`}:{}}),addMention:(e,t,i)=>Ii.post(`videos/${e}/mentions`,{channel_id:t},{headers:i?{Authorization:`BEARER ${i}`}:{}}),songListByCondition:(e,t,i)=>Ii.post("/songs/latest",l(r({},e),{offset:t,limit:i})),trackSongPlay(e,t,i,a){const s=_e.stringify({n:i});return Ii.get(`/songs/record/${e}/${t}?${s}`,{headers:a?{Authorization:`BEARER ${a}`}:{}})},trackSong:(e,t)=>Ii.get(`/songs/record/${e}`,{headers:t?{Authorization:`BEARER ${t}`}:{}}),hot(e,t){const i=_e.stringify(e?{org:e}:{channel_id:t});return Ii.get(`/songs/hot?${i}`)},getPlaylistList(e){if(!e)throw new Error("Not authorized");return Ii.get("/users/playlists",{headers:e?{Authorization:`BEARER ${e}`}:{}})},getPlaylist(e){if(!e)throw new Error("Arg bad");return Ii.get(`/playlist/${e}`)},savePlaylist:(e,t)=>Ii.post("/playlist/",e,{headers:t?{Authorization:`BEARER ${t}`}:{}}),deletePlaylist(e,t){if(!e||!t)throw new Error("Arg bad");return Ii.delete(`/playlist/${e}`,{headers:t?{Authorization:`BEARER ${t}`}:{}})},reportVideo(e,t,i){if(!e)throw new Error("Arg bad");return Ii.post(`/reports/video/${e}`,t,{headers:i?{Authorization:`BEARER ${i}`}:{}})},trackMultiviewLink:e=>Ii.get(`/multiview/record/${e}`),discordServerInfo:e=>Ii.get(`https://discord.com/api/v8/invites/${e}`),addPlaceholderStream:(e,t,i)=>Ii.post("videos/placeholder"+(i?`?token=${i}`:""),e,{headers:t?{Authorization:`BEARER ${t}`}:{}}),getPlaylistState:(e,t)=>Ii.get(`/video-playlist/${e}`,{headers:t?{Authorization:`BEARER ${t}`}:{}}),addVideoToPlaylist:(e,t,i)=>Ii.put(`/video-playlist/${t}/${e}`,null,{headers:i?{Authorization:`BEARER ${i}`}:{}}),deleteVideoFromPlaylist:(e,t,i)=>Ii.delete(`/video-playlist/${t}/${e}`,{headers:i?{Authorization:`BEARER ${i}`}:{}})},Ti={name:"SearchBar",props:{dense:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1}},data:()=>({query:[],mdiLabel:we,mdiAccountMultiple:ke,mdiMagnifyPlusOutline:Ce,mdiTextSearch:Se,mdiCommentSearch:$e,mdiFilter:xe,isLoading:!1,search:null,fromApi:[]}),computed:{isMobile(){return this.$store.state.isMobile},cachedChannels(){return this.$store.state.cachedChannels},results(){return this.fromApi.concat(this.query?this.query:[])},nameProperty(){return this.$store.state.settings.nameProperty}},watch:{"$route.query":{deep:!0,async handler({q:e}){e&&(this.query=await Ae.csv2jsonAsync(e))}},search:Le((function(e){if(!e)return;this.fromApi=[];if(encodeURIComponent(e.trim()).length<=1)return;const t=e.trim().replace("#","");this.getAutocomplete(t).then((t=>{let i=[];encodeURIComponent(e).length>1&&(i=[{type:"none",disabled:!0,divider:!0,value:"div",text:"div"},{type:"title & desc",value:`${e}title & desc`,text:e.trim()},{type:"none",disabled:!0,divider:!0,value:"div",text:"div"},{type:"comments",value:`${e}comments`,text:e.trim()}]),this.fromApi=[...t.data,...i]})).catch((e=>console.log(e)))}),500)},async mounted(){this.$route.query&&this.$route.query.q&&(this.query=await Ae.csv2jsonAsync(this.$route.query.q))},methods:{async getAutocomplete(e){this.isLoading=!0;const t=await Pi.searchAutocomplete(e);return t.data=t.data.map((e=>(e.text||(e.text=e.value),e))),this.isLoading=!1,t},deleteChip(e){this.query.splice(this.query.map((e=>e.value)).indexOf(e.value),1)},async commitSearch(){this.query&&0!==this.query.length&&(1!==this.query.length||"channel"!==this.query[0].type?1!==this.query.length||"video url"!==this.query[0].type?this.$router.push({path:"/search",query:l(r({},this.$route.query),{q:await Ae.json2csvAsync(this.query),page:void 0})}):this.$router.push(`/watch/${this.query[0].value}`):this.$router.push(`/channel/${this.query[0].value}`))},async goToOrToggleAdvanced(){"search"===this.$route.name?this.$router.push({path:"/search",query:l(r({},this.$route.query),{q:await Ae.json2csvAsync(this.query),advanced:!("true"===this.$route.query.advanced),page:void 0})}):this.$router.push({path:"/search",query:{q:await Ae.json2csvAsync(this.query),advanced:!0,page:void 0}})},addItem(e){this.query.push(r({},e))},onInput(){this.search=null,this.fromApi=[]},validate(e){const t=e.filter((e=>"comments"===e.type)).length;return t>1?"Cannot search using multiple comment conditions.":!(1===t&&e.filter((e=>"title & desc"===e.type)).length>0)||"Cannot search using comment + title & desc filters at the same time."},i18nItem(e){switch(e){case"channel":return this.$t("component.search.type.channel");case"video url":return this.$t("component.search.type.videourl");case"topic":return this.$t("component.search.type.topic");case"org":return this.$t("component.search.type.org");case"title & desc":return this.$t("component.search.type.titledesc");case"comments":return this.$t("component.search.type.comments");default:return""}},onEnterKeyDown(){null!==this.search&&0!==this.search.length||this.commitSearch()}}};var Oi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(Me,{staticClass:"ma-auto search-bar",class:{"search-bar-small":e.isMobile},attrs:{solo:"",flat:"",multiple:"","deletable-chips":"",chips:"","disable-lookup":"",clearable:"","hide-no-data":"","hide-selected":"","auto-select-first":"",dense:"",rules:[e.validate],autofocus:e.autofocus,"small-chips":e.dense,loading:e.isLoading,items:e.results,"search-input":e.search,"append-icon":"",label:e.$t("component.search.searchLabel"),filter:function(e,t){return!0},"return-object":"","hide-details":"auto"},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t},input:e.onInput,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onEnterKeyDown.apply(null,arguments)}},scopedSlots:e._u([{key:"selection",fn:function(t){return[i(Ie,{staticClass:"pa-0 selected-card",attrs:{color:e.$vuetify.theme.dark?"grey darken-3":"primary accent-4",label:"channel"!==t.item.type,dark:e.$vuetify.theme.dark}},[i(Ee,{staticClass:"ma-n1 py-0 pl-3 pr-1"},[i("div",{staticClass:"selected-card-type px-1 py-0 ma-0 rounded text--disabled caption"},["channel"===t.item.type?i(Pe,{attrs:{"x-small":""}},[e._v(" "+e._s(e.icons.mdiYoutube)+" ")]):e._e(),"video url"===t.item.type?i(Pe,{attrs:{"x-small":""}},[e._v(" "+e._s(e.icons.mdiYoutube)+" ")]):e._e(),"topic"===t.item.type?i(Pe,{attrs:{"x-small":""}},[e._v(" "+e._s(e.icons.mdiAnimationPlay)+" ")]):e._e(),"org"===t.item.type?i(Pe,{attrs:{"x-small":""}},[e._v(" "+e._s(e.mdiAccountMultiple)+" ")]):e._e(),"title & desc"===t.item.type?i(Pe,{attrs:{"x-small":""}},[e._v(" "+e._s(e.mdiTextSearch)+" ")]):e._e(),"comments"===t.item.type?i(Pe,{attrs:{"x-small":""}},[e._v(" "+e._s(e.mdiCommentSearch)+" ")]):e._e(),e._v(" "+e._s(e.i18nItem(t.item.type))+" ")],1),i(Te,{staticClass:"py-1 pt-4"},[i(Oe,{staticClass:"text--primary search-item",domProps:{textContent:e._s(t.item.text)}})],1),i(De,[i(Pe,{attrs:{small:"",color:"primary accent-2"},on:{click:function(i){return e.deleteChip(t.item)}}},[e._v(" "+e._s(e.icons.mdiClose)+" ")])],1)],1)],1)]}},{key:"item",fn:function(t){return[i("div",{staticClass:"ma-n1 py-0 pl-3 pr-1"},[i(Te,{staticClass:"py-1 pt-1"},[i(Oe,{staticClass:"text--primary"},[e._v(" "+e._s(e.i18nItem(t.item.type))+" "),"channel"===t.item.type?i(Pe,{attrs:{small:""}},[e._v(" "+e._s(e.icons.mdiYoutube)+" ")]):e._e(),"video url"===t.item.type?i(Pe,{attrs:{small:""}},[e._v(" "+e._s(e.icons.mdiYoutube)+" ")]):e._e(),"topic"===t.item.type?i(Pe,{attrs:{small:""}},[e._v(" "+e._s(e.icons.mdiAnimationPlay)+" ")]):e._e(),"org"===t.item.type?i(Pe,{attrs:{small:""}},[e._v(" "+e._s(e.mdiAccountMultiple)+" ")]):e._e(),"title & desc"===t.item.type?i(Pe,{attrs:{small:""}},[e._v(" "+e._s(e.mdiTextSearch)+" ")]):e._e(),"comments"===t.item.type?i(Pe,{attrs:{small:""}},[e._v(" "+e._s(e.mdiCommentSearch)+" ")]):e._e(),e._v(" "+e._s(t.item.text)+" ")],1)],1)],1)]}},{key:"append-outer",fn:function(){return[i(Ve,{staticClass:"ml-1 append-btn",attrs:{large:""},on:{click:e.commitSearch}},[i(Pe,{key:"searchbtn",attrs:{large:"",color:"secondary"},domProps:{textContent:e._s(e.icons.mdiMagnify)}})],1),i(Ve,{staticClass:"ml-1 append-btn",attrs:{large:""},on:{click:e.goToOrToggleAdvanced}},[i(Pe,{key:"advanced",attrs:{large:"",color:"secondary"},domProps:{textContent:e._s(e.mdiFilter)}})],1)]},proxy:!0}]),model:{value:e.query,callback:function(t){e.query=t},expression:"query"}})},Di=[];Oi._withStripped=!0;function Vi(e,t,i,a,s,o,n,r){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=i,c._compiled=!0),a&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),n?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(n)},c._ssrRegister=l):s&&(l=r?function(){s.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:s),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(e,t){return l.call(t),d(e,t)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:e,options:c}}const Gi={};var Fi=Vi(Ti,Oi,Di,!1,Ri,null,null,null);function Ri(e){for(let t in Gi)this[t]=Gi[t]}Fi.options.__file="src/components/common/SearchBar.vue";const Ni=function(){return Fi.exports}(),ji={name:"Logo"};var Bi=function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{staticClass:"logo",staticStyle:{"margin-right":"3px"},attrs:{width:"49.531mm",height:"46.719mm",version:"1.1",viewBox:"0 0 49.531 46.719",xmlns:"http://www.w3.org/2000/svg"}},[t("g",{attrs:{transform:"translate(-71.24 -130.01)"}},[t("path",{attrs:{d:"m118.65 149.7a4.2333 4.2333 0 0 1 0 7.3324l-33.127 19.126a4.2333 4.2333\n                  0 0 1-6.35-3.6662v-38.252a4.2333 4.2333 0 0 1 6.35-3.6662",fill:"#f06292"}}),t("path",{attrs:{d:"m110.72 149.68a4.2333 4.2333 0 0 1 0 7.3324l-33.127 19.126a4.2333 4.2333\n                  0 0 1-6.35-3.6662v-38.252a4.2333 4.2333 0 0 1 6.35-3.6662",fill:"#64b5f6"}})])])},Hi=[];Bi._withStripped=!0;const zi={};var Ui=Vi(ji,Bi,Hi,!1,qi,"25c9dbe2",null,null);function qi(e){for(let t in zi)this[t]=zi[t]}Ui.options.__file="src/components/common/Logo.vue";const Yi=function(){return Ui.exports}();var Wi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[e._t("menu",(function(){return[i(Ge,{attrs:{bottom:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){return[e._t("visible",(function(){return[i("div",e._g(e._b({staticClass:"d-inline nav-title",staticStyle:{position:"relative"}},"div",t.attrs,!1),t.on),[i(Fe,{attrs:{"hide-on-leave":""}},[i("span",{key:e.currentOrg.name+"header",class:{"grey--text text--darken-4":!e.darkMode,"grey-text text--lighten-2":e.darkMode},staticStyle:{"text-decoration":"underline"}},[e._v(e._s(e.currentOrg.short||e.currentOrg.name))])]),i("span",{ref:"dexBtn",staticClass:"primary--text",class:{"text--lighten-2":e.darkMode,"text--darken-4":!e.darkMode}},[e._v("dex")]),i("span",{staticStyle:{"font-size":"0.8em"}},[e._v(" (forked from "),i("a",{attrs:{href:"https://holodex.net/"}},[e._v("Holodex")]),e._v(")")])],1)]}),{currentOrg:e.currentOrg,activator:t})]}}],null,!0)})]}),{currentOrg:e.currentOrg,showOrgDialog:function(){e.showOrgDialog=!0}}),i(Re,{attrs:{"max-width":"1000px"},model:{value:e.showOrgDialog,callback:function(t){e.showOrgDialog=t},expression:"showOrgDialog"}},[i(Ie,[i(Ne,[e._v(e._s(e.$t("views.channels.sortOptions.org")))]),i(je,{staticClass:"px-1"},[i(Be,{staticClass:"px-4",attrs:{label:e.$t("component.search.searchLabel")},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),i(He,{staticStyle:{"overflow-y":"auto",height:"calc(75vh - 176px)"}},e._l(e.sortedOrgs,(function(t){return i(Ee,{key:t.name+"list",attrs:{dense:"",ripple:!1},on:{click:function(){e.currentOrg=t,e.showOrgDialog=!1}}},[i(De,{attrs:{height:"32px"}},[i(Ve,{attrs:{icon:"",color:e.orgFavoritesNameSet.has(t.name)?"yellow":"grey"},on:{click:function(i){return i.stopPropagation(),e.toggleFavoriteOrg(t)}}},[i(Pe,[e._v(e._s(e.icons.mdiStar))])],1)],1),i(Te,[e._v(" "+e._s(t.name)+" "+e._s(t.name_jp?"("+t.name_jp+")":"")+" ")]),e.orgFavoritesNameSet.has(t.name)?i(De,{staticStyle:{"flex-direction":"row !important"},on:{click:function(e){e.stopPropagation(),e.preventDefault()}}},[i(Ve,{attrs:{icon:"",ripple:!1},on:{click:function(i){return i.stopPropagation(),e.shiftOrgFavorites({org:t,up:!0})}}},[i(Pe,[e._v(e._s(e.icons.mdiChevronUp))])],1),i(Ve,{attrs:{icon:"",ripple:!1},on:{click:function(i){return i.stopPropagation(),e.shiftOrgFavorites({org:t,up:!1})}}},[i(Pe,[e._v(e._s(e.icons.mdiChevronDown))])],1)],1):e._e()],1)})),1)],1),i(ze),i(Ue,[i(qe),i(Ve,{attrs:{text:"",color:"red"},on:{click:function(t){e.showOrgDialog=!1}}},[e._v(e._s(e.$t("views.app.close_btn")))])],1)],1)],1)],2)},Ki=[];Wi._withStripped=!0;const Qi={name:"OrgSelector",props:{currentSelection:{type:Object,optional:!0,default:()=>({name:"Hololive",short:"Holo",name_jp:null})},hideAllVTubers:{type:Boolean,optional:!0}},data:()=>({showOrgDialog:!1,search:""}),computed:l(r({},Ye("orgs",["orgs"])),{firstVisit:{get(){return this.$store.state.firstVisit&&navigator.userAgent&&!navigator.userAgent.includes("Googlebot")},set(){return this.$store.commit("setVisited")}},sortedOrgs(){let e=this.orgs.slice();return this.search&&(e=e.filter((e=>e.name.toLowerCase().includes(this.search.toLowerCase())))),e.sort(((e,t)=>{const i=this.orgFavorites.findIndex((t=>t.name===e.name)),a=this.orgFavorites.findIndex((e=>e.name===t.name));return i<0&&a<0?0:i<0&&a>=0?1:a<0&&i>=0?-1:i-a})),e},currentOrg:{get:()=>({name:"Nabi"}),set(e){return this.$emit("changed",e),"favorites"===this.$route.name&&this.$router.push({name:"home"}),this.$store.commit("setCurrentOrg",e)}},orgFavorites(){return this.hideAllVTubers?this.$store.state.orgFavorites.filter((e=>"All Vtubers"!==e.name)):this.$store.state.orgFavorites},orgFavoritesNameSet(){return new Set(this.orgFavorites.map((({name:e})=>e)))},darkMode(){return this.$store.state.settings.darkMode}}),watch:{showOrgDialog(e){e&&this.$store.dispatch("orgs/fetchOrgs")}},methods:l(r({},We(["toggleFavoriteOrg","shiftOrgFavorites"])),{shiftUp(e){const t=this.orgFavorites.indexOf(e),i=this.orgFavorites[t-1];this.orgFavorites.splice(t-1,1,e),this.orgFavorites.splice(t,1,i)}})},Ji={};var Xi=Vi(Qi,Wi,Ki,!1,Zi,null,null,null);function Zi(e){for(let t in Ji)this[t]=Ji[t]}Xi.options.__file="src/components/common/OrgSelector.vue";const ea=function(){return Xi.exports}(),ta={name:"UserCard",props:{noSetting:{type:Boolean,default:!1},inNavDrawer:{type:Boolean,default:!1}},computed:{userdata(){return this.$store.state.userdata},user(){return this.$store.state.userdata.user}},methods:{hashCode(e){let t=0;for(let i=0;i<e.length;i++){t=(t<<5)-t+e.charCodeAt(i),t&=t}return t},logout(){this.$store.dispatch("logout")},async tryUpdateUser(){this.userdata&&this.userdata.jwt&&Date.now()-(window.lastUserCheck||0)>6e4&&(window.lastUserCheck=Date.now(),this.forceUserUpdate())},async forceUserUpdate(){const e=await Pi.loginIsValid(this.userdata.jwt);!1===e?this.$store.dispatch("logout"):e.data&&e.data.id&&this.$store.commit("setUser",{user:e.data,jwt:this.userdata.jwt})}}};var ia=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(Ie,{directives:[{name:"intersect",rawName:"v-intersect",value:e.tryUpdateUser,expression:"tryUpdateUser"}],attrs:{flat:""}},[i(He,{staticClass:"pb-0",attrs:{dense:e.inNavDrawer}},[e.user?i(Ee,{attrs:{to:e.inNavDrawer?"/login":null}},[i(Ke,[i("img",{attrs:{src:"https://avatars.dicebear.com/api/jdenticon/"+e.user.id+".svg",alt:"Avatar generated by your user ID"}})]),i(Te,[i(Qe,[e._v(e._s(e.user.username))]),i(Oe,["user"!==e.user.role?i("span",{staticStyle:{"text-transform":"capitalize"}},[e._v(e._s(e.user.role))]):e._e(),e._v("   "),i(Pe,{attrs:{small:"",color:e.user.discord_id?"green lighten-2":"grey"}},[e._v(" "+e._s(e.icons.mdiDiscord)+" ")]),e._v("   "),i(Pe,{attrs:{small:"",color:e.user.google_id?"green lighten-2":"grey"}},[e._v(" "+e._s(e.icons.mdiGoogle)+" ")]),e._v("   "),i(Pe,{attrs:{small:"",color:e.user.twitter_id?"green lighten-2":"grey"}},[e._v(" "+e._s(e.icons.mdiTwitter)+" ")]),e._v("   ")],1),i(Te,{staticClass:"primary--text d-inline"},[i(Pe,{staticClass:"d-inline",attrs:{"x-small":""}},[e._v(" "+e._s(e.icons.mdiStarFourPointsOutline)+" ")]),e._v(" "+e._s(e.user.contribution_count)+" "+e._s(e.$t("component.mainNav.points"))+" ")],1)],1)],1):e._e(),e.user?e._e():i(Ee,{attrs:{to:"/login",link:""}},[i(Je,[i(Pe,[e._v(e._s(e.icons.mdiLoginVariant))])],1),i(Qe,[e._v(e._s(e.$t("component.mainNav.login")))])],1),e.user&&!e.inNavDrawer?i(ze):e._e(),e.user&&!e.inNavDrawer?i(Ee,{attrs:{to:"/login",link:""}},[i(Je,[i(Pe,[e._v(e._s(e.icons.mdiAccountCircleOutline))])],1),i(Te,[i(Qe,[e._v(" "+e._s(e.$t("component.mainNav.accountSettings"))+" ")])],1)],1):e._e(),e.noSetting?e._e():i(Ee,{attrs:{to:"/settings",link:""}},[i(Je,[i(Pe,[e._v(e._s(e.icons.mdiCog))])],1),i(Te,[i(Qe,[e._v(" "+e._s(e.$t("component.mainNav.settings"))+" ")])],1)],1),e.user&&!e.inNavDrawer?i(Ee,{attrs:{link:""},on:{click:function(t){return t.preventDefault(),e.logout.apply(null,arguments)}}},[i(Je,[i(Pe,[e._v(e._s(e.icons.mdiLogoutVariant))])],1),i(Te,[i(Qe,[e._v(" "+e._s(e.$t("component.mainNav.logout"))+" ")])],1)],1):e._e()],1)],1)},aa=[];ia._withStripped=!0;const sa={};var oa=Vi(ta,ia,aa,!1,na,null,null,null);function na(e){for(let t in sa)this[t]=sa[t]}oa.options.__file="src/components/user/UserCard.vue";const ra=function(){return oa.exports}(),la={data:()=>({previousScroll:0,isScrollingUp:!1,currentScroll:0,savedScroll:0,computedScrollThreshold:100,showExt:!0}),computed:{modeled:{get(){return this.value},set(e){this.$emit("input",e)}},disableExt(){return!(this.$vuetify.breakpoint.xs&&["home","channels","favorites"].includes(this.$route.name))}},watch:{isScrollingUp(){this.savedScroll=this.savedScroll||this.currentScroll},showExt(){this.savedScroll=0}},methods:{onScroll(){this.disableExt||(0===window.scrollY&&(this.showExt=!0),this.previousScroll=this.currentScroll,this.currentScroll=this.target?this.target.scrollTop:window.pageYOffset,this.isScrollingUp=this.currentScroll<this.previousScroll,this.currentThreshold=Math.abs(this.currentScroll-this.computedScrollThreshold),this.$nextTick((()=>{Math.abs(this.currentScroll-this.savedScroll)>this.computedScrollThreshold&&this.thresholdMet()})))},thresholdMet(){this.showExt=this.isScrollingUp||this.currentScroll<this.computedScrollThreshold}}},ca=[{name:"Aqua",id:0,themes:{dark:{background:"#121212",primary:"#F06292",secondary:"#3b88d5"},light:{background:"#f2f2f2",primary:"#F06292",secondary:"#64B5F6"}}},{name:"Matsuri",id:1,themes:{dark:{background:"#121212",primary:"#faa749",secondary:"#82D251"},light:{background:"#f2f2f2",secondary:"#839C35",primary:"#F2AD46"}}},{name:"Korone",id:2,themes:{dark:{background:"#0D0707",primary:"#B07975",secondary:"#D57E3D"},light:{background:"#f2f2f2",primary:"#F6D68D",secondary:"#80CDC7"}}},{name:"Rushia",id:3,themes:{dark:{background:"#121212",primary:"#22C4AC",secondary:"#5783BF"},light:{background:"#f2f2f2",primary:"#9E65A6",secondary:"#F2C9EB"}}},{name:"Fubuki",id:4,themes:{dark:{background:"#0C111A",primary:"#9E8461",secondary:"#83B0BD"},light:{background:"#FDFDFD",primary:"#317192",secondary:"#83B0BD"}}},{name:"Figaro",id:5,themes:{dark:{background:"#121212",primary:"#8FB5B7",secondary:"#688BA1"},light:{background:"#F5F5F5",primary:"#688BA1",secondary:"#8FB5B7"}}},{name:"Shion",id:6,themes:{dark:{background:"#121212",primary:"#998AEB",secondary:"#684C7C"},light:{background:"#F2F2F2",primary:"#684C7C",secondary:"#998AEB"}}},{name:"Coco",id:7,themes:{dark:{background:"#121212",primary:"#D3B633",secondary:"#FF9A63",success:"#B333C9"},light:{background:"#f2f2f2",secondary:"#B333C9",primary:"#FF9257"}}},{name:"Suisei",id:8,themes:{dark:{background:"#121212",primary:"#a8d6fc",secondary:"#3c3a97 ",success:"#16f7a5"},light:{background:"#f2f2f2",secondary:"#a8d6fc",primary:"#3c3a97"}}},{name:"Haato",id:9,themes:{dark:{background:"#121212",primary:"#ffe799",secondary:"#d52d43"},light:{background:"#f2f2f2",secondary:"#ffe799",primary:"#d52d43"}}},{name:"Miko",id:10,themes:{dark:{background:"#121212",primary:"#fbb3a5",secondary:"#fe7c8b"},light:{background:"#f2f2f2",secondary:"#fe7c8b",primary:"#fbb3a5"}}},{name:"IRyS",id:11,themes:{dark:{background:"#121212",primary:"#d91a5d",secondary:"#98395c"},light:{background:"#f2f2f2",secondary:"#58294c ",primary:"#d91a5d"}}},{name:"Luna",id:12,themes:{dark:{background:"#121212",primary:"#EB8FE1",secondary:"#F7638B"},light:{background:"#f3efef",secondary:"#DB8FEB",primary:"#F7638B"}}},{name:"Pekora",id:13,themes:{dark:{background:"#121212",primary:"#d2def4",secondary:"#fca94c"},light:{background:"#f2f2f2",secondary:"#fca94c",primary:"#d2def4"}}},{name:"Polka",id:14,themes:{dark:{background:"#121212",primary:"#e9d9a3",secondary:"#7f796a"},light:{background:"#f2f2f2",secondary:"#7f796a ",primary:"#D4C378"}}},{name:"Towa",id:15,themes:{dark:{background:"#121212",primary:"#e0e187",secondary:"#7e6bac"},light:{background:"#f2f2f2",secondary:"#e0e187",primary:"#7e6bac"}}},{name:"Flare",id:16,themes:{dark:{background:"#121212",primary:"#d79e69",secondary:"#244f6f"},light:{background:"#f2f2f2",primary:"#d79e69",secondary:"#244f6f"}}},{name:"Noel",id:17,themes:{dark:{background:"#121212",primary:"#9ba4b1",secondary:"#928c97"},light:{background:"#f2f2f2",primary:"#9ba4b1",secondary:"#928c97"}}},{name:"Lamy",id:18,themes:{dark:{background:"#121212",primary:"#338bcc",secondary:"#72b0e4"},light:{background:"#f2f2f2",primary:"#338bcc",secondary:"#72b0e4"}}},{name:"Okayu",id:19,themes:{dark:{background:"#121212",primary:"#cda4d5",secondary:"#4a477c"},light:{background:"#f2f2f2",primary:"#4a477c",secondary:"#cda4d5"}}}];var da={component:{apiError:{title:"Gomenasorry!",textBeforeTwitter:"There was an error retrieving content, please check twitter ",textAfterTwitter:" or report an error through the",aboutPage:"About page",afterAboutPageHyperlink:"."},channelList:{signInToFavorite:"Sign in to favorite",unfavoriteAllInGroup:"Unfavorite all in group",favoriteAllInGroup:"Favorite all in group"},channelInfo:{stats:"Stats",videoCount:"{0} Videos",clipCount:"{n} Clips",subscriberCount:"{n} Subscribers",subscriberNA:"Subscriber count unavailable",totalViews:"Total Views"},channelSocials:{addToFavorites:"Add to Favorites",removeFromFavorites:"Remove from Favorites",unblock:"Unblock this channel",block:"Block this channel's content across Holodex",blocked:"Blocked"},mainNav:{home:"Home",favorites:"Favorites",channels:"Channels",about:"About",library:"Library",settings:"Settings",login:"Login",logout:"Logout",MugenClips:"MugenClips<sup>beta</sup>",accountSettings:"Account Settings",music:"Music",multiview:"MultiView",points:"pts",playlist:"Playlist"},videoCard:{clips:"{n} Clips",watching:"{0} Watching",liveNow:"Live Now",edit:"Edit",copiedToClipboard:"Link copied to clipboard.",copyLink:"Copy Holodex Link",premiere:"PREMIERE",googleCalendar:"Add to Google Calendar",totalTLs:"Total live chat TLs",tlPresence:"Active translator in last 30 mins"},videoDescription:{description:"Description"},video:{comment:{}},description:{showLess:"Show Less",showMore:"Show More"},watch:{streamingFor:"Streaming for {0}",nextUpInMugen:"Next Up",Comments:{title:"Comments",all:"All"}},search:{searchLabel:"Search",type:{channel:"channel",topic:"topic",org:"org",titledesc:"title/desc",comments:"comments",videourl:"video url"}},relatedVideo:{clipsLabel:"clips",simulcastsLabel:"simulcasts",refersLabel:"refers",sourcesLabel:"sources",songsLabel:"songs",recommendationsLabel:"recommended"},paginateLoad:{newer:"Newer",older:"Older"},music:{clearPlaylist:"Clear",trendingForOrg:"Trending for {0}"},channelMusic:{recentSongsHeader:"Recent Songs",weeklyTopPlaysHeader:"Weekly Top Plays",trending:"Trending"},songList:{songTitle:"Title",songCoveredBy:"Covered by",songDuration:"Duration",sangOnTime:"Sang on"},orgMusic:{monthlyTopForOrg:"Monthly Top Plays for {0}",weeklyTopForOrg:"Weekly Top Plays for {0}"},installPrompt:{title:"Install Holodex",callToAction:"Watching videos on Holodex works best when added to home screen",notNowBtn:"Not Now",installBtn:"Install",iOS:{popup:"Install Holodex on iOS",afterExportIcon:"then 'Add to Home Screen",beforeExportIcon:"Tap"}},media:{remove:"Remove"},comment:{close:"Close",readMore:"Read more"},reportDialog:{title:"Report",collabing:"This channel may be collabing with a {org} member or with your favorites. You can disable this feature through the settings",comments:"What actions should Holodex take?",success:"Report sent, thank you!",reasons:["Video tagged incorrectly","Dangerously Low Quality/Misleading Content","Violates the org's derivative work guidelines or inappropriate","Other"]},thirdpartycookie:{explanation:"Because of how your internet browser works, some browsers with strict <b>Third Party Cookie</b> policies, or those blocking <kbd>YouTube.com</kbd> cookies may find it difficult to log into / use Youtube chat. <br /><br /> You can fix this by whitelisting <kbd>Youtube.com</kbd> in Third Party Cookie blockers, or decreasing your cookie security / privacy level for <kbd>Holodex.net</kbd>. <br /><br /> We included some websites that provide more information on how to do this.",dialogTitle:"Using Youtube Chat on Holodex",alertText:"Your browser privacy setting is making it impossible to log-in to Youtube chat. Click here for more info",neverShowAgain:"Never Show Alert Again"},playlist:{menu:{"export-playlist":"Export Playlist","new-playlist":"New Playlist","rename-playlist":"Rename Playlist","reset-unsaved":"Reset Unsaved Changes","delete-playlist":"Delete Playlist","clear-playlist":"Clear playlist"},"save-error-not-logged-in":"You need to be logged in to save playlists"},placeholderVideo:{discordCredit:"Event data provided by {0} from: {1}",datasourceCredit:"Event data fetched from {0} datasource.",botCredit:"Event data provided via {0} datasource, created by {1}.",streamPageBtn:"Stream Page",eventPageBtn:"Event Page",scheduledEvent:"Scheduled",editorCredit:"Event setup by Holodex editor {0}.",creditTitleText:"Credits:"}},views:{channel:{video:"Videos",clips:"Clips",music:"Music",collabs:"Collabs",about:"About"},channels:{channelType:{},sortOptions:{subscribers:"Subscribers",group:"Group",recentUpload:"Recent Upload",videoCount:"Video Count",clipCount:"Clip Count",org:"Organization"},tabs:{Vtuber:"Vtuber",Subber:"Subber",Favorites:"Favorites",Blocked:"Blocked"},favoritesAreEmpty:"You have no favorites!",blockedAreEmpty:"You have no blocked channels."},home:{liveOrUpcomingHeading:"Live / Upcoming",recentVideosHeading:"Recent Videos",noStreams:"No live or upcoming streams at the moment",recentVideoToggles:{all:"All",official:"Archive",subber:"Clips"}},library:{savedVideosTitle:"Saved Videos",createYtPlaylistButton:"Create YT Playlist ({0})",deleteFromLibraryButton:"Delete ({0})",deleteConfirmation:"Are you sure you want to delete {0} videos?",deleteConfirmationOK:"Delete",deleteConfirmationCancel:"Cancel",selectionReset:"Reset",selectionSelectAll:"Select All",emptyLibrary:"You have no saved videos!",exportSelected:"Export Selected ({0})",exportYtPlaylist:"Youtube Playlist",exportCsv:"CSV File",selectionSelect50:"Select 50",exportYTExplanation:"The youtube playlist created by this feature is <b>unlisted</b> and may be deleted by Youtube. <br /> Because Youtube's feature incompleteness, you need to do the following to save the <b>unlisted</b> Youtube playlist to your account.",exportYTHeading:"Saving Youtube Playlist Instructions",exportYTInstructions:'<b class="red--text">Step 1</b>: Play the youtube playlist, and change the player UI into mini-player. <br /><br /> <b class="red--text">Step 2</b>: Pick any video and add it to the Queue. <br /><br /> <b class="red--text">Step 3</b>: The Playlist is now save-able. Click save to save it.',sort:{dateaddedEarliestFirst:"Date Added to Library, earliest first",dateaddedLatestFirst:"Date Added to Library, latest first",dateuploadedLatestFirst:"Upload date, latest first",dateuploadedEarliestFirst:"Upload date, earliest first"}},notFound:{title:"Content not found",back:"Return Home"},search:{sort:{newest:"Newest",oldest:"Oldest"},type:{all:"All",official:"Official",clip:"Clip"},unsupportedQuery:"Currently searching clips by <kbd>Topic</kbd> and <kbd>Organization</kbd> is not supported. No <b>clips</b> will show up.",sortByLabel:"Sort By",typeDropdownLabel:"Type"},settings:{title:"Settings",darkModeLabel:"Dark Mode",darkModeMsg:"Changes the theme between light mode and dark mode",redirectModeLabel:"Open on Youtube",redirectModeMsg:"Clicking on video thumbnails will open it in Youtube, clicking the video title will open on Holodex",useEnglishNameLabel:"Use English Name",useEnglishNameMsg:"Uses English localized names for VTuber channels",hideVideoThumbnailsLabel:"Hide Video Thumbnails",hideVideoThumbnailsMsg:"Hide video thumbnails, helps speed up loading time and less scrolling on mobile",pushNotificationLabel:"Push Notifications (Coming Soon)",pushNotificationMsg:"Enable push notification for favorited channels",autoplayVideoLabel:"Autoplay Video",autoplayVideoMsg:"Enable automatic playback of videos",scrollModeLabel:"Scroll Mode",scrollModeMsg:"Use scroll/tap to turn pages",resetAllSettings:"Reset All Settings/Data",resetAllSettingsWarning:"You will lose all data. Continue?",clipLanguageSelection:"See Clips in these Languages:",tlLanguageSelection:"See live-chat TL in these languages",defaultPage:"Default Page",defaultPageMsg:"Open this page by default when visiting holodex.net, or clicking on the logo top left.",videoFeedSettings:"Video Feed Settings",siteNavigationSettings:"Site/Navigation",languageSettings:"Language",gridSizeLabel:"Thumbnail/Grid Size",gridSizeMsg:"Change thumbnail/video grid size on Home/Favorites page",gridSize:["Large","Medium","Small"],hideCollabStreamsLabel:"Hide Collab Streams",hideCollabStreamsMsg:"Hide collab streams from your favorites feed",ignoredTopicsLabel:"Ignored Topics",ignoredTopicsMsg:"Hide videos with these topics from the Home and Favorites pages",theme:"Theme",moreSettings:"More Settings"},app:{update_available:"An update is available",update_btn:"Update",close_btn:"Close",check_about_page:"Visit the About page to see new changes",nowSupportsMultiOrg:"Holodex now supports multiple organizations.",loginCallToAction:"Login to gather your own favorites!"},about:{add_my_channel:"Channel Request"},watch:{theaterMode:"Theater Mode",mentionIconLabel:"MENTIONS",chat:{loading:"Loading Chat...",hideTLBtn:"Hide TLs",showTLBtn:"Show TLs",TLSettingsTitle:"TL Settings",StickBottomSettingLabel:"Stick Bottom (mobile)",StickBottomSettingsDesc:"TL box sticks to the bottom of chat (default stick to top on mobile)",showVerifiedMessages:"Show Verified Messages",showModeratorMessages:"Show Moderator Messages",showLocalTime:"Show Local Times",tlFontSize:"Font Size",tlWindowSize:"TL Box Size (%), leave as 0% for automatic",retryBtn:"Retry",status:{reconnecting:"Auto Reconnecting...",reconnectFailed:"Could not reconnect",notLive:"Stream is not live yet, please try again when the stream is within 15 minutes of being live",connectedToChat:"Connected",disconnectedToChat:"Disconnected"},archiveNeedExtension:"Archive chat does not work without the {0} extension or other third party extensions."},removeFromPlaylist:"Remove video from current playlist",saveToPlaylist:"Save video to current playlist",likeOnYoutube:"Like video on Youtube"},favorites:{promptForAction:"Create a list of favorite vtubers and see their latest clips and lives on this page.",manageFavorites:"Manage Favorites",close:"Close",showall:"Show All"},editor:{needlogin:"You'll need to login to make edits to Holodex video and song metadata.",changeTopic:{title:"Change stream topic",info:"All users can assign topic to videos, but only editors and admins can remove and change the topic once set.",button:"Save (May take 5 minutes to take effect)"},channelMentions:{title:"Channel Mentions"},sources:{title:"Sources/Clips (in development)"}},login:{apikeyMsg:"You can use API key to query Holodex API programmatically. Only one key per account. After getting a new key, the old key will expire within 0-24 hours.",apikeyNew:"Get new API Key",ownedYtChannel:"Owned Youtube Channel",futureYtcOwnerMessage:"In the future, we plan on providing more services to channel owners like editing metadata for their\n                    own videos.",linkAcc:"Link another account",apikeyResetConfirm1:"Are you sure you want to reset your API Key?",apikeyResetConfirm2:"The old API key will have 0-24 hours before expiring. Really reset?",apikeyResetNvm:"Nothing interesting happened.",with:["Login with Google","Login with Discord","Login with Twitter"]},multiview:{confirmOverwrite:"Overwrite current layout?",confirmOverwriteYes:"Confirm",permalink:"Permalink",presets:"Presets",addframe:"Add Cell",muteAll:"Mute All",unmuteAll:"Unmute All",muteOthers:"Mute Others",muteOthersDetail:"Mute all but one stream",autoLayoutTip:"Click on a channel to start watching using auto layout mode",createLayoutTip:"Create your own layout by adding a cell, or using a preset",openToolbarTip:"Open the toolbar to start using multiview",preset:{shareOnDiscord:'Have a cool layout to share? Use the share button and let us know on our <a href="https://discord.gg/jctkgHBt4b">Discord server</a>!',custom:"My Layouts",toggleAutoLayout:"Toggle use layout in auto",remove:"Delete",desktop:"Desktop",mobile:"Mobile",autoLayout:"AutoLayout"},presetEditor:{title:"Save Layout",name:"Name",autoLayout:"Use layout in auto mode"},video:{selectLive:"Select Live",addCustomVideo:"Add Custom Video"},fullScreen:"Fullscreen",mediaControls:"Media Controls",mediaControlsEmpty:"Videos being played will appear here",editAutoLayout:"Edit Auto Layout",changeLayout:"Change Layout",done:"Done",hints:"Hints",presetsHint:"Open presets menu to switch layouts and configure auto layout",mediaControlsHint1:"Use Media Controls to mute and sync (",mediaControlsHint2:") live streams",dragDropHint:"Drag and drop streams from toolbar to cells to organize streams"},mugen:{welcome:"Welcome to MugenClips! Everyone on this page is seeing the same randomly selected English Hololive clip. Watch along and chat with Hololive fans from across the world. If you skip ahead and want to be re-sync'd with everyone, please refresh the page."},playlist:{"playlist-is-modified":"Not saved","item-last-updated":"Last Updated:","login-prompt":"Login to save playlists and have more than one playlist","new-playlist-btn-label":"Create a new Playlist","page-heading":"Your Playlists:","page-instruction":"Click a playlist to set it as active.","change-loss-warning":"You will lose unsaved changes. Continue?"},extension:{title:"Holodex Plus Extension",features:"Features",featureset:{one:"Enables Archive Live chat on Watch and Multiview",two:"Allows liking videos from Holodex watch page",three:"Fixes memory leak in Youtube's live chat",four:"Fixes experimental flags on Youtube player (Like disabling multiple streams, waiting room thumbnail not showing) and more!"}}},time:{soon:"soon",diff_future_date:"Starts {0} ({1})",distance_past_date:"{0}"},editor:{music:{add:"Add",update:"Update",permission:"You need to be an 'Editor' user level or higher to update or delete existing songs. Please contact us on <a class='white--text' href='/about'>discord</a> to notify editors of issues / abuse, or apply to become an editor.",titles:{addSong:"Song Metadata: Add a new Song",songList:"Song List : {0}",help:"Guide"},itunesLookupPlaceholder:"(Optional) Lookup on iTunes",moveRight2s:"Move right 2s",testEnd:"Test listen starting at 3 seconds before the end.",setToCurrentTime:"Set to current time ({0})",moveLeft2s:"Move left 2s",trackNameInput:"Track Name",originalArtistInput:"Original Artist",testStart:"Test the start",startInput:"Start",endInput:"Duration in seconds: (end @ {0})"},exitMode:"Exit Edit Mode",enterMode:"Edit Video"},about:{quicklinks:"Quick Links",discordBtn:"Holodex Discord",faq:{title:"FAQ",ytchatHeader:"My Youtube Chat is not logged in!",ytchatContent:"Please disable the browser security feature known as 3rd Party Cookies blocking, or whitelist this website and youtube.com to allow 3rd Party Cookies.",ytchatFirefox:"Firefox instructions, other browsers may be similar.",autoplayHeader:"AutoPlay isn't working!",autoplayContent:"Please google how to enable autoplay for your browser.",musicPlayer:"Music Player doesn't work well on Mobile Devices!",musicPlayerContent:"For most iOS devices, you cannot turn off the screen or close Safari while playing Holodex music. This restriction may or may not apply to Android devices (depends on device). Please give us feedback on discord if you have any idea how to produce a better playback system.",videoLinkage:"How do I make sure that videos are linked properly to vtubers?",videoLinkageContent:"All information is parsed from the video description. If you are clipping a stream, please make sure to link the official stream. If you are clipping fan made content (eg. from bilibili), just make sure to link the official youtube channels of relevant vtubers. If you do not link any vtuber channels, then we will not show that clip on holodex, as all clips require linkage to a vtuber known to holodex.",quitHolodex:"I'm a subber and I would like to have my channel removed from Holodex\r\n",quitHolodexContent:"Sad to see you go :(, please let me know if there's any issue I can help you with. If you would still like to have it removed, please send us a message on Discord.",favorite:{title:"What are favorites?",Contents:["Favorites are a way to stay on top of your favorite vtubers, you can add your favorite channels by clicking the heart icon on the","page. Please note that favoriting subbers is currently not supported, but you should still consider subscribing and supporting them in other ways!"],disappear:{title:"My favorites list disappeared / I cannot favorite"},contents:["Please make sure you are logged in and visit the channels favorites tab to force a refresh."]},mobile:{title:"Is there an Android/iOS app for Holodex?",content:{summary:'We are working on it! In the mean time, please use the "Add to Home" feature on your browser. We have tuned it a lot to behave like an app',android:["Android Chrome: Navigate to the site, click the three dots",'on the top right and find "Add to Home Screen".'],ios:["iOS Safari: Navigate to the site on your phone, click the square with arrow pointing up",'at the bottom of safari, and click "Add to Home Screen"']}},MugenClips:{title:"What is MugenClips?",contents:["MugenClips, or infinite clips, is a watch along party where people on the site can watch a constantly rotating variety of clips uploaded by the many community translation channels"]},subber:{title:"I'm a subber and can't find my channel or clips on Holodex",contents:["Please check on the Channels page to see if you are listed as a subber, if not please fill out","this form",", and we will add you manually. If you are already on the list, please make sure your video descriptions have the correct youtube source/channel links."]},feedback:{title:"I have feedback/want to contribute to this project",contents:["All help and ideas are welcome! The UI and Backend are both available for contribution, although only the UI is open source currently. Please contact us on discord to gain access to backend source, or simply chat about your ideas."]}},gdpr:"GDPR and my data",gdprContent:"A Google Analytics cookie is used to track pageviews for our analytical purposes. After login, we associate your social media account username and ID with your favorites. This data may include your Email (for Google), Discord ID, or Twitter handle respectively.",gdprDeletion:"For deletion of your user data, please contact us on discord!",feedback:"Feedback/Bug Reports",feedbackHtml:'You can create an issue in the <a href="https://github.com/RiceCakess/Holodex/issues"> Github Issue Tracker </a> or find the Holodex team on Discord <br /> <br /> Reddit: <a href="https://www.reddit.com/user/Rice_Cakess/"> u/Rice_cakess </a>',credits:{title:"Credits",contents:["I would like to give big thanks to the","team for their work on","Also to all the subbers for helping the overseas bros! Please check them out!","This is a fan made website and the content found on this website is owned by Cover corp and its partners. The site follows the guidelines set forth by Cover corp in their","Derivative Work License Agreement"]},changelog:{title:"Changelog"},news:{title:"News"},bookmarklet:{title:"Bookmarklets",description:"Drag these bookmarklets to your bookmark bar to open YouTube watch page in Holodex easily:"}}},ua=da.component,ha=da.views,pa=da.time,ma=da.editor,va=da.about;const ga=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:da,component:ua,views:ha,time:pa,editor:ma,about:va});Xe.use(Ze);const fa=[{val:"en",display:"English",credit:"@Holodex"},{val:"en-CA",display:"English (Canadian)",credit:"@Holodex"},{val:"en-GB",display:"English (British)",credit:"@Holodex"},{val:"lol-UWU",display:"English (UwU)",credit:"Doubleturtle#3660"},{val:"ja",display:"日本語",credit:"Yourein#3960,Saginomiya#2353"},{val:"zh",display:"繁體中文",credit:"angel84326#7887"},{val:"ko",display:"한국어",credit:"AlexKoala#0253"},{val:"es-ES",display:"Español España",credit:"TraduSquare (Darkc0m y D3fau4)"},{val:"es",display:"Español Latino",credit:"Aldo#3682"},{val:"ms",display:"Bahasa Melayu",credit:"Admiy#8261"},{val:"id",display:"Bahasa Indonesia",credit:"alcyneous#2803"},{val:"ru",display:"Русский язык",credit:"kirillbarnaul#8499"},{val:"pt",display:"Português Brasileiro",credit:"Ash Niartis#5090"},{val:"de",display:"Deutsch",credit:"DatJocab#1803, Doubleturtle#3660"},{val:"it",display:"Italiano",credit:"テオさん#0139"},{val:"fr",display:"Français",credit:"pinembour#7770,Derasiel △#0002"},{val:"tr",display:"Türkçe",credit:"creeperkafasipw#1861"},{val:"vi",display:"Tiếng Việt",credit:"Pooh#6666,Dead xda member#4848,#Hiraoka Yukio#3042"},{val:"hu",display:"Magyar",credit:"kuroihikikomori#3519"},{val:"th",display:"ไทย",credit:"SnowNeko#0282"}],ya={en:async()=>(await vi((()=>import("./en.e6b8facf.js").then((e=>e.e))),["assets/en.e6b8facf.js","assets/vendor.f7b02bb7.js","assets/vendor.06e82a89.css"]),vi((()=>Promise.resolve().then((()=>ga))),void 0)),"en-GB":async()=>(await vi((()=>import("./en-gb.81b11220.js").then((e=>e.e))),["assets/en-gb.81b11220.js","assets/vendor.f7b02bb7.js","assets/vendor.06e82a89.css"]),vi((()=>Promise.resolve().then((()=>ga))),void 0)),"en-CA":async()=>(await vi((()=>import("./en-ca.09589e52.js").then((e=>e.e))),["assets/en-ca.09589e52.js","assets/vendor.f7b02bb7.js","assets/vendor.06e82a89.css"]),vi((()=>Promise.resolve().then((()=>ga))),void 0)),ja:async()=>(await vi((()=>import("./ja.aa945c68.js").then((e=>e.j))),["assets/ja.aa945c68.js","assets/vendor.f7b02bb7.js","assets/vendor.06e82a89.css"]),vi((()=>import("./ui.7079d555.js")),[])),zh:async()=>(await vi((()=>import("./zh-tw.efc26d60.js").then((e=>e.z))),["assets/zh-tw.efc26d60.js","assets/vendor.f7b02bb7.js","assets/vendor.06e82a89.css"]),vi((()=>import("./ui.da185306.js")),[])),es:async()=>(await vi((()=>import("./es.fd0753e6.js").then((e=>e.e))),["assets/es.fd0753e6.js","assets/vendor.f7b02bb7.js","assets/vendor.06e82a89.css"]),vi((()=>import("./ui.f971810e.js")),[])),"es-ES":async()=>(await vi((()=>import("./es.fd0753e6.js").then((e=>e.e))),["assets/es.fd0753e6.js","assets/vendor.f7b02bb7.js","assets/vendor.06e82a89.css"]),vi((()=>import("./ui.52100c94.js")),[])),ms:async()=>(await vi((()=>import("./ms.592322ad.js").then((e=>e.m))),["assets/ms.592322ad.js","assets/vendor.f7b02bb7.js","assets/vendor.06e82a89.css"]),vi((()=>import("./ui.142cccad.js")),[])),id:async()=>(await vi((()=>import("./id.a1d8e15c.js").then((e=>e.i))),["assets/id.a1d8e15c.js","assets/vendor.f7b02bb7.js","assets/vendor.06e82a89.css"]),vi((()=>import("./ui.ec48cc7b.js")),[])),ru:async()=>(await vi((()=>import("./ru.e147911a.js").then((e=>e.r))),["assets/ru.e147911a.js","assets/vendor.f7b02bb7.js","assets/vendor.06e82a89.css"]),vi((()=>import("./ui.5c097c0a.js")),[])),fr:async()=>(await vi((()=>import("./fr.977e88be.js").then((e=>e.f))),["assets/fr.977e88be.js","assets/vendor.f7b02bb7.js","assets/vendor.06e82a89.css"]),vi((()=>import("./ui.86202de8.js")),[])),pt:async()=>(await vi((()=>import("./pt-br.35cc9168.js").then((e=>e.p))),["assets/pt-br.35cc9168.js","assets/vendor.f7b02bb7.js","assets/vendor.06e82a89.css"]),vi((()=>import("./ui.6752587b.js")),[])),de:async()=>(await vi((()=>import("./de.4cf31449.js").then((e=>e.d))),["assets/de.4cf31449.js","assets/vendor.f7b02bb7.js","assets/vendor.06e82a89.css"]),vi((()=>import("./ui.367b4a9b.js")),[])),it:async()=>(await vi((()=>import("./it.56179f2b.js").then((e=>e.i))),["assets/it.56179f2b.js","assets/vendor.f7b02bb7.js","assets/vendor.06e82a89.css"]),vi((()=>import("./ui.e58c55a8.js")),[])),ko:async()=>(await vi((()=>import("./ko.224cb2f9.js").then((e=>e.k))),["assets/ko.224cb2f9.js","assets/vendor.f7b02bb7.js","assets/vendor.06e82a89.css"]),vi((()=>import("./ui.fb9105c1.js")),[])),tr:async()=>(await vi((()=>import("./tr.2bb8fab0.js").then((e=>e.t))),["assets/tr.2bb8fab0.js","assets/vendor.f7b02bb7.js","assets/vendor.06e82a89.css"]),vi((()=>import("./ui.2997674c.js")),[])),vi:async()=>(await vi((()=>import("./vi.a9c584ab.js").then((e=>e.v))),["assets/vi.a9c584ab.js","assets/vendor.f7b02bb7.js","assets/vendor.06e82a89.css"]),vi((()=>import("./ui.366ad818.js")),[])),hu:async()=>(await vi((()=>import("./hu.f7e1fe32.js").then((e=>e.h))),["assets/hu.f7e1fe32.js","assets/vendor.f7b02bb7.js","assets/vendor.06e82a89.css"]),vi((()=>import("./ui.0c157f7f.js")),[])),"lol-UWU":async()=>(await vi((()=>import("./en.e6b8facf.js").then((e=>e.e))),["assets/en.e6b8facf.js","assets/vendor.f7b02bb7.js","assets/vendor.06e82a89.css"]),vi((()=>import("./ui.437fc29c.js")),[])),th:async()=>(await vi((()=>import("./th.2615241f.js").then((e=>e.t))),["assets/th.2615241f.js","assets/vendor.f7b02bb7.js","assets/vendor.06e82a89.css"]),vi((()=>import("./ui.a825be9f.js")),[]))},ba=new Ze({locale:"en",fallbackLocale:"en",messages:{en:r({$vuetify:et},da)},pluralizationRules:{ru(e,t){if(0===e)return 0;const i=e>10&&e<20,a=e%10==1;return t<4?!i&&a?1:2:!i&&a?1:!i&&e%10>=2&&e%10<=4||t<4?2:3}}}),_a=["en"],wa={"en-CA":"en-ca","en-GB":"en-gb",zh:"zh-tw","es-ES":"es",pt:"pt-br","lol-UWU":"en"};function ka(e){ba.locale=e;const t=wa[e]||e||"en";he.locale(t)}function Ca(e){return ba.locale===e?Promise.resolve():_a.includes(e)?Promise.resolve(ka(e)):ya[e]().then((t=>(ba.setLocaleMessage(e,t.default),_a.push(e),ka(e))))}const Sa=localStorage.getItem("theme"),$a={treeShake:!0,icons:{iconfont:"mdiSvg"},theme:{dark:"false"!==localStorage.getItem("darkMode"),options:{customProperties:!0},themes:(ca[+Sa||0]||ca[0]).themes},lang:{t:(e,...t)=>ba.t(e,t)}};Xe.use(tt);Object.keys(it).forEach((e=>{Xe.directive((e=>{const t=[];let i="";return[...e].forEach(((e,a)=>{a>0&&e.toUpperCase()===e&&(t.push(i),i=""),i+=e})),i.length>0&&t.push(i),t})(e).map((e=>e.toLowerCase())).join("-"),it[e])}));const xa=new tt($a);function Aa(e,t=400){const i=Math.floor(window.devicePixelRatio*t),a=/^https:\/\/(.+?)\.mzstatic\.com\/image\/thumb\/(.+?)\/source\//.exec(e);if(!a)return e;return`https://${a[1]}.mzstatic.com/image/thumb/${a[2]}/source/${i}x${i}bb.jpg`}function La(e,t){let i=48;return i=t<88&&t>55?88:t<=55?48:176,`${e.split("=s")[0]}=s${i}-c-k-c0x00ffffff-no-rj-mo`}function Ma(e){const t=`${e.split("=")[0]}=`;return{tablet:`${t}w1707-fcrop64=1,00005a57ffffa5a8-k-c0xffffffff-no-nd-rj`,mobile:`${t}w960-fcrop64=1,32b75a57cd48a5a8-k-c0xffffffff-no-nd-rj`,banner:`${t}w2276-fcrop64=1,00005a57ffffa5a8-k-c0xffffffff-no-nd-rj`,tv:`${t}w2560-fcrop64=1,00005a57ffffa5a8-k-c0xffffffff-no-nd-rj`}}const Ia={},Ea={"lol-UWU":"en"};function Pa(e,t="en"){var i;const a=null!=(i=Ea[t])?i:t;Ia[a]||(Ia[a]=new Intl.NumberFormat(a,{compactDisplay:"short",notation:"compact",maximumSignificantDigits:3}));let s=e;return"string"==typeof e&&(s=+e),Ia[a].format(s)}function Ta(e){return e.split("&amp;").join("&").split("&quot;").join('"')}function Oa(e,t){const i=Ye(e,t),a=e=>`set${e.charAt(0).toUpperCase()}${e.slice(1)}`,s=We(e,t.map((e=>a(e)))),o={};return t.forEach((e=>{Object.prototype.hasOwnProperty.call(i,e)&&Object.prototype.hasOwnProperty.call(s,a(e))&&(o[e]={get:i[e],set:s[a(e)]})})),o}function Da(e){const t={};return e.forEach((e=>{const i=`set${e.charAt(0).toUpperCase()}${e.slice(1)}`;t[i]=(t,i)=>{t[e]=i}})),t}function Va(e,t){if(e.available_at===t.available_at)return e.id.localeCompare(t.id);return new Date(e.available_at).getTime()-new Date(t.available_at).getTime()}const Ga={data:()=>({doneCopy:!1}),methods:{async copyToClipboard(e){await navigator.clipboard.writeText(e),this.doneCopy=!0,setTimeout((()=>{this.doneCopy=!1}),2e3)}}};var Fa=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(He,e._l(e.playlistState,(function(t,a){return i(Ee,{key:t.id+t.name,attrs:{color:t.contains?"green":"","input-value":t.contains},on:{click:function(i){return i.stopPropagation(),e.toggle(t,a)}}},[i("span",[e._v(e._s(t.name))]),t.loading?i(at,{staticClass:"d-inline-block ml-2",attrs:{size:"12",indeterminate:""}}):e._e()],1)})),1)},Ra=[];Fa._withStripped=!0;const Na={};var ja=Vi({props:{videoId:{required:!0,type:String},video:{required:!0,type:Object}},data:()=>({playlistState:[]}),computed:{active(){return this.$store.state.playlist.active},jwt(){var e,t;return null==(t=null==(e=this.$store.state)?void 0:e.userdata)?void 0:t.jwt}},async mounted(){if(this.jwt){const e=await Pi.getPlaylistState(this.videoId,this.jwt);this.playlistState.push(...e.data)}const e=this.playlistState.findIndex((e=>e.id===this.active.id));e>=0&&this.playlistState.splice(e,1),this.playlistState.unshift({id:this.active.id,active:!0,name:this.active.name,contains:this.$store.getters["playlist/contains"](this.videoId)})},methods:{async toggle(e,t){const{id:i,active:a,contains:s}=this.playlistState[t];a?s?this.$store.commit("playlist/removeVideoByID",this.video):this.$store.commit("playlist/addVideo",this.video):(this.$set(this.playlistState[t],"loading",!0),s?await Pi.deleteVideoFromPlaylist(this.videoId,i,this.jwt):await Pi.addVideoToPlaylist(this.videoId,i,this.jwt),this.$set(this.playlistState[t],"loading",!1)),this.$set(this.playlistState[t],"contains",!s)}}},Fa,Ra,!1,Ba,null,null,null);function Ba(e){for(let t in Na)this[t]=Na[t]}ja.options.__file="src/components/playlist/VideoQuickPlaylist.vue";const Ha=function(){return ja.exports}();var za=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.video?i(He,{attrs:{dense:""}},["placeholder"!==e.video.type?[i(Ee,{attrs:{target:"_blank",href:"https://youtu.be/"+e.video.id},on:{click:function(e){e.stopPropagation()}}},[i(Pe,{attrs:{left:""}},[e._v(" "+e._s(e.icons.mdiYoutube)+" ")]),e._v(" "+e._s(e.$t("views.settings.redirectModeLabel"))+" ")],1),"upcoming"===e.video.status?i(Ee,{on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.openGoogleCalendar.apply(null,arguments)}}},[i(Pe,{attrs:{left:""}},[e._v(" "+e._s(e.icons.mdiCalendar)+" ")]),e._v(" "+e._s(e.$t("component.videoCard.googleCalendar"))+" ")],1):e._e(),i(Ee,{attrs:{to:"/edit/video/"+e.video.id+("stream"!==e.video.type?"/mentions":"/")}},[i(Pe,{attrs:{left:""}},[e._v(" "+e._s(e.icons.mdiPencil)+" ")]),e._v(" "+e._s(e.$t("component.videoCard.edit"))+" ")],1),"clip"!==e.video.type?[i(Ee,{attrs:{to:"/multiview/AAUY"+e.video.id+"%2CUAEYchat"}},[i(Pe,{attrs:{left:""}},[e._v(" "+e._s(e.icons.mdiViewDashboard)+" ")]),e._v(" "+e._s(e.$t("component.mainNav.multiview"))+" ")],1)]:e._e(),i(Ge,{attrs:{right:"",absolute:"","min-width":"240"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,s=t.attrs;return[i(Ee,e._g(e._b({},"v-list-item",s,!1),a),[i(Pe,{attrs:{left:""}},[e._v(" "+e._s(e.icons.mdiPlaylistPlus)+" ")]),e._v(" "+e._s(e.$t("component.mainNav.playlist"))+" "),i(Pe,{attrs:{right:""}},[e._v(" "+e._s(e.icons.mdiChevronRight)+" ")])],1)]}}],null,!1,1593053001)},[i("video-quick-playlist",{key:e.video.id+Date.now(),attrs:{"video-id":e.video.id,video:e.video}})],1),i(Ee,{class:e.doneCopy?"green lighten-2":"",on:{click:function(t){return t.stopPropagation(),e.copyLink.apply(null,arguments)}}},[i(Pe,{attrs:{left:""}},[e._v(" "+e._s(e.icons.mdiClipboardPlusOutline)+" ")]),e._v(" "+e._s(e.$t("component.videoCard.copyLink"))+" ")],1)]:["upcoming"===e.video.status?i(Ee,{on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.openGoogleCalendar.apply(null,arguments)}}},[i(Pe,{attrs:{left:""}},[e._v(" "+e._s(e.icons.mdiCalendar)+" ")]),e._v(" "+e._s(e.$t("component.videoCard.googleCalendar"))+" ")],1):e._e()],i(Ee,{on:{click:function(t){return e.$store.commit("setReportVideo",e.video)}}},[i(Pe,{attrs:{left:""}},[e._v(" "+e._s(e.icons.mdiFlag)+" ")]),e._v(" "+e._s(e.$t("component.reportDialog.title"))+" ")],1),e.$store.getters.isSuperuser?[i(st,[i("watch-quick-editor",{attrs:{video:e.video}})],1)]:e._e()],2):e._e()},Ua=[];za._withStripped=!0;const qa={};var Ya=Vi({components:{WatchQuickEditor:()=>vi((()=>import("./WatchQuickEditor.7ecf9827.js")),["assets/WatchQuickEditor.7ecf9827.js","assets/WatchQuickEditor.31333de8.css","assets/ChannelChip.f41fb5ea.js","assets/ChannelChip.a58c2866.css","assets/vendor.f7b02bb7.js","assets/vendor.06e82a89.css"]),VideoQuickPlaylist:Ha},mixins:[Ga],props:{video:{type:Object,required:!0}},methods:{openGoogleCalendar(){const e=this.video.start_scheduled,t=encodeURIComponent(this.video.title),i="YYYYMMDD[T]HHmmss",a=he(e).format(i),s=he(e).add(1,"hour").format(i),o=`<a href="${window.origin}/watch/${this.video.id}">Open Video</a>`;window.open("https://www.google.com/calendar/render?action=TEMPLATE&text=".concat(t,"&dates=",a,"/",s,"&details=",o),"_blank")},copyLink(){const e=`${window.origin}/watch/${this.video.id}`;this.copyToClipboard(e)}}},za,Ua,!1,Wa,null,null,null);function Wa(e){for(let t in qa)this[t]=qa[t]}Ya.options.__file="src/components/common/VideoCardMenu.vue";const Ka=function(){return Ya.exports}(),Qa={name:"VideoCard",components:{ChannelImg:()=>vi((()=>Promise.resolve().then((()=>Ds))),void 0),PlaceholderCard:()=>vi((()=>import("./PlaceholderCard.b9df827b.js")),["assets/PlaceholderCard.b9df827b.js","assets/PlaceholderCard.d62401b1.css","assets/WatchInfo.f744d1c8.js","assets/WatchInfo.f906aa2e.css","assets/ChannelChip.f41fb5ea.js","assets/ChannelChip.a58c2866.css","assets/vendor.f7b02bb7.js","assets/vendor.06e82a89.css","assets/TruncatedText.1db39923.js","assets/TruncatedText.0408fe31.css"]),VideoCardMenu:Ka},props:{video:{type:Object,default:null},source:{type:Object,default:null},fluid:{required:!1,type:Boolean,default:!1},includeChannel:{required:!1,type:Boolean,default:!1},includeAvatar:{required:!1,type:Boolean,default:!1},hideThumbnail:{required:!1,type:Boolean,default:!1},horizontal:{required:!1,type:Boolean,default:!1},colSize:{required:!1,type:Number,default:1},active:{required:!1,type:Boolean,default:!1},disableDefaultClick:{required:!1,type:Boolean,default:!1},activePlaylistItem:{type:Boolean,default:!1},parentPlaylistId:{type:[Number,String],default:null}},data(){return{forceJPG:!0,now:Date.now(),updatecycle:null,hasWatched:!1,placeholderIconMap:{event:this.icons.mdiCalendar,"scheduled-yt-stream":this.icons.mdiYoutube,"external-stream":ot},placeholderOpen:!1}},computed:{data(){return this.source||this.video},isPlaceholder(){return"placeholder"===this.data.type},title(){return this.data.title?Ta(this.data.title):""},lang(){return this.$store.state.settings.lang},formattedTime(){switch(this.data.status){case"upcoming":return yi(this.data.start_scheduled||this.data.available_at,this.lang,this.$t.bind(this),!1,he(this.now));case"live":return this.$t("component.videoCard.liveNow");default:return yi(this.data.available_at,this.lang,this.$t.bind(this))}},absoluteTimeString(){const e=fi(this.data.available_at,this.lang),t=e.format((e.isTomorrow()?"ddd ":"")+"LT zzz"),i=e.tz("Asia/Tokyo").format((e.isTomorrow()?"ddd ":"")+"LT zzz");return t===i?t:`${t}\n${i}`},formattedDuration(){return this.data.start_actual&&"live"===this.data.status?this.formatDuration(he(this.now).diff(he(this.data.start_actual))):"upcoming"===this.data.status&&this.data.duration?this.$t("component.videoCard.premiere"):this.data.duration&&this.formatDuration(1e3*this.data.duration)},imageSrc(){const e=this.$store.state.settings.canUseWebP&&!this.forceJPG;if(this.data.thumbnail){return`/statics/thumbnail/default/${btoa(this.data.thumbnail).replace("+","-").replace("/","_").replace(/=+$/,"")}.jpg`}if("placeholder"===this.data.type)return`/statics/channelImg/${this.data.channel_id||this.data.channel.id}.png`;const t=function(e,t){const i=t?"https://i.ytimg.com/vi_webp":"https://i.ytimg.com/vi",a=t?"webp":"jpg";return{default:`${i}/${e}/default.${a}`,medium:`${i}/${e}/mqdefault.${a}`,standard:`${i}/${e}/sddefault.${a}`,maxres:`${i}/${e}/maxresdefault.${a}`,hq720:`${i}/${e}/hq720.${a}`}}(this.data.id,e);return this.horizontal?t.medium:this.colSize>2&&this.colSize<=8?window.devicePixelRatio>1?t.standard:t.medium:t.standard},redirectMode(){return this.$store.state.settings.redirectMode},shouldHideThumbnail(){return this.$store.state.settings.hideThumbnail||this.hideThumbnail},channelName(){const e=this.$store.state.settings.nameProperty;return this.data.channel[e]||this.data.channel.name},hasSaved(){return this.$store.getters["playlist/contains"](this.data.id)},isMobile(){return this.$store.state.isMobile},watchLink(){const e=this.parentPlaylistId?`?playlist=${this.parentPlaylistId}`:"";return`/watch/${this.data.id}${e}`},hasTLs(){var e,t,i,a,s;const o=this.$store.state.settings.liveTlLang;return"past"===(null==(e=this.data)?void 0:e.status)&&(null==(i=null==(t=this.data)?void 0:t.live_tl_count)?void 0:i[o])||(null==(s=null==(a=this.data)?void 0:a.recent_live_tls)?void 0:s.includes(o))},tlLangInChat(){const e=this.$store.state.settings.liveTlLang;return this.hasTLs&&"past"===this.data.status?`${this.data.live_tl_count[e]}`:""},tlIconTitle(){return"past"===this.data.status?this.$t("component.videoCard.totalTLs"):this.$t("component.videoCard.tlPresence")}},created(){this.$store.getters["history/hasWatched"](this.data.id).then((e=>{e&&(this.hasWatched=!0)})).catch((e=>{console.error(e)})),this.updatecycle||"live"!==this.data.status||(this.updatecycle=setInterval(this.updateNow,1e3))},activated(){this.updatecycle||"live"!==this.data.status||(this.updatecycle=setInterval(this.updateNow,1e3))},deactivated(){this.updatecycle&&(clearInterval(this.updatecycle),this.updatecycle=null)},beforeDestroy(){this.updatecycle&&(clearInterval(this.updatecycle),this.updatecycle=null)},methods:{formatDuration:gi,formatCount:Pa,formatDistance:yi,toggleSaved(e){e.preventDefault(),this.hasSaved?this.$store.commit("playlist/removeVideoByID",this.data.id):this.$store.commit("playlist/addVideo",this.data)},goToVideo(){this.isPlaceholder?this.openPlaceholder():(this.$emit("videoClicked",this.data),this.disableDefaultClick||(this.$route.path.match("^/watch")&&this.isMobile?this.$router.replace({path:this.watchLink}):this.$router.push({path:this.watchLink})))},openPlaceholder(){this.placeholderOpen=!0},goToChannel(){this.$emit("videoClicked",this.data),this.disableDefaultClick||this.$router.push({path:`/channel/${this.data.channel.id}`})},goToYoutube(){if(this.$emit("videoClicked",this.data),this.disableDefaultClick)return;const e=`https://www.youtube.com/watch?v=${this.data.id}`;window.open(e,"_blank","noopener")},updateNow(){this.now=Date.now()},drag(e){e.dataTransfer.setData("text",`https://holodex.net/watch/${this.data.id}`),e.dataTransfer.setData("application/json",JSON.stringify(this.data))},move(e,t){const i=this.$store.state.playlist.active,a=i.videos.findIndex((t=>t.id===e));if(a<0)throw new Error("huh");let s;switch(t){case"up":s=a-1;break;case"down":s=a+1}if(s<0)throw new Error("can't move stuff before 0");if(s>=i.videos.length)throw new Error("can't move stuff to beyond the end");this.$store.commit("playlist/reorder",{from:a,to:s})}}};var Ja=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a",{staticClass:"video-card no-decoration d-flex",class:{"video-card-fluid":e.fluid,"video-card-active":e.active,"video-card-horizontal":e.horizontal,"flex-column":!e.horizontal},staticStyle:{position:"relative"},attrs:{target:e.redirectMode?"_blank":"",href:e.redirectMode?"https://youtu.be/"+e.data.id:e.watchLink,rel:"noopener",draggable:"true"},on:{click:function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:(t.preventDefault(),function(t){return e.isPlaceholder?e.openPlaceholder():e.redirectMode?e.goToYoutube():e.goToVideo()}.apply(null,arguments))},dragstart:e.drag}},[i("div",{staticClass:"video-thumbnail white--text rounded flex-shrink-0 d-flex",staticStyle:{position:"relative",width:"100%"},style:e.horizontal&&!e.shouldHideThumbnail&&"background: url("+e.imageSrc+") center/cover;"},[i("div",{staticClass:"video-card-overlay d-flex justify-space-between flex-column",staticStyle:{height:"100%",position:"absolute",width:"100%","z-index":"1"}},[i("div",{staticClass:"d-flex justify-space-between align-start"},[i("div",{staticClass:"video-topic rounded-tl-sm",style:{visibility:e.data.topic_id?"visible":"hidden"}},[e._v(" "+e._s(e.data.topic_id)+" ")])]),e.isPlaceholder?i("div",{staticClass:"d-flex flex-column align-end "},[i(Pe,{staticClass:"video-duration rounded-sm",attrs:{color:"white"}},[e._v(" "+e._s(e.placeholderIconMap[e.data.placeholderType])+" ")])],1):i("div",{staticClass:"d-flex flex-column align-end"},[e.data.songcount?i("div",{staticClass:"video-duration"},[i(Pe,{attrs:{small:"",color:"white"}},[e._v(e._s(e.icons.mdiMusic))])],1):e._e(),e.hasTLs?i("div",{staticClass:"video-duration d-flex align-center",attrs:{title:e.tlIconTitle}},[e._v(" "+e._s(e.tlLangInChat)+" "),i(Pe,{attrs:{small:"",color:"white"}},[e._v(e._s(e.icons.tlChat))])],1):e._e(),e.data.duration>0||e.data.start_actual?i("div",{staticClass:"video-duration rounded-br-sm",class:"live"===e.data.status&&"video-duration-live"},[e._v(" "+e._s(e.formattedDuration)+" ")]):e._e()])]),e.horizontal||e.shouldHideThumbnail?!e.horizontal&&e.shouldHideThumbnail?i(nt,{attrs:{width:"100%","aspect-ratio":60/9}}):e._e():i(nt,{staticClass:"rounded",attrs:{src:e.imageSrc,"aspect-ratio":16/9,width:"100%",transition:!1}})],1),i("a",{staticClass:"d-flex flex-row flex-grow-1 no-decoration video-card-text",attrs:{href:e.watchLink,rel:"noopener"},on:{click:function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:(t.stopPropagation(),t.preventDefault(),e.goToVideo())}}},[e.includeChannel&&e.includeAvatar&&!e.horizontal&&e.data.channel?i("div",{staticClass:"d-flex align-self-center mx-2 flex-column d-flex"},[i("ChannelImg",{staticClass:"align-self-center",attrs:{channel:e.data.channel,rounded:""}})],1):e._e(),i("div",{staticClass:"d-flex flex-column flex-grow-1 video-card-lines"},[i("div",{class:["video-card-title ",{"video-watched":e.hasWatched},{"mt-2":!e.horizontal}],staticStyle:{"user-select":"text"},style:{"font-size":1-e.$store.state.currentGridSize/16+"rem"},attrs:{title:e.title}},[e._v(" "+e._s(e.title)+" ")]),e.includeChannel?i("div",{staticClass:"channel-name video-card-subtitle"},[i("a",{staticClass:"no-decoration",class:{"name-vtuber":"stream"===e.data.type||"vtuber"===e.data.channel.type},attrs:{href:"/channel/"+e.data.channel.id,title:e.data.channel.name+"\n"+(e.data.channel.english_name||"")},on:{click:function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:(t.stopPropagation(),t.preventDefault(),e.goToChannel(e.data.channel.id))}}},[e._v(" "+e._s(e.channelName)+" ")])]):e._e(),i("div",{staticClass:"video-card-subtitle"},[i("span",{class:"text-"+e.data.status,attrs:{title:e.absoluteTimeString}},[e._v(" "+e._s(e.formattedTime)+" ")]),e.data.clips&&e.data.clips.length>0&&!e.isPlaceholder?[e._v(" • "),i("span",{staticClass:"primary--text"},[e._v(" "+e._s(e.$tc("component.videoCard.clips","object"==typeof e.data.clips?e.data.clips.length:+e.data.clips))+" ")])]:"live"===e.data.status&&e.data.live_viewers>0?[e._v(" • "+e._s(e.$tc("component.videoCard.watching",e.formatCount(e.data.live_viewers,e.lang),[e.formatCount(e.data.live_viewers,e.lang)]))+" ")]:e._e()],2)])]),e.$slots.action||e.activePlaylistItem?i(De,{staticClass:"video-card-item-actions"},[e.activePlaylistItem?[i("button",{on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.move(e.data.id,"up")}}},[i(Pe,{attrs:{small:""}},[e._v(" "+e._s(e.icons.mdiChevronUp)+" ")])],1),i("button",{on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.$store.commit("playlist/removeVideoByID",e.data.id)}}},[i(Pe,{attrs:{small:""}},[e._v(" "+e._s(e.icons.mdiDelete)+" ")])],1),i("button",{on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.move(e.data.id,"down")}}},[i(Pe,{attrs:{small:""}},[e._v(" "+e._s(e.icons.mdiChevronDown)+" ")])],1)]:e._e(),e._t("action")],2):e._e(),e.placeholderOpen?i("placeholder-card",{attrs:{video:e.data},model:{value:e.placeholderOpen,callback:function(t){e.placeholderOpen=t},expression:"placeholderOpen"}}):e._e()],1)},Xa=[];Ja._withStripped=!0;const Za={};var es=Vi(Qa,Ja,Xa,!1,ts,"26621817",null,null);function ts(e){for(let t in Za)this[t]=Za[t]}es.options.__file="src/components/video/VideoCard.vue";const is=function(){return es.exports}(),as={name:"VirtualVideoCardList",components:{VirtualList:rt},props:{playlist:{required:!0,type:Object},includeChannel:{required:!1,type:Boolean},includeAvatar:{required:!1,type:Boolean},hideThumbnail:{required:!1,type:Boolean,default:!1},horizontal:{required:!1,type:Boolean,default:!0},keeps:{type:Number,default:10},pageMode:{type:Boolean},activeId:{required:!1,type:String,default:null},dense:{type:Boolean},disableDefaultClick:{type:Boolean},activePlaylistItem:{type:Boolean},activeIndex:{type:Number,default:-1},height:{type:String,default:"500px"}},data:()=>r({expanded:!1,randomId:Date.now(),VideoCard:is},{mdiChevronUp:Q,mdiChevronDown:K}),computed:{videos(){return this.playlist.videos||[]},isMobile(){return this.$store.state.isMobile},computedHeight(){return this.pageMode?"":this.height}},watch:{activeIndex(e){this.$refs.virtualVideoList.scrollToIndex(e)}},mounted(){this.$refs.virtualVideoList.scrollToIndex(this.activeIndex)},methods:{checkActive(e){return e===this.activeIndex?"video-card-active":""}}};var ss=function(){var e=this,t=e.$createElement;return(e._self._c||t)("virtual-list",{ref:"virtualVideoList",staticStyle:{"overflow-y":"auto","overflow-x":"hidden","overscroll-behavior":"contain"},style:{height:e.computedHeight},attrs:{"data-key":"id","data-sources":e.videos,"data-component":e.VideoCard,"extra-props":Object.assign({},e.$props,{parentPlaylistId:e.playlist&&e.playlist.id||"local"}),"estimate-size":88,keeps:e.keeps,"page-mode":e.pageMode,"item-class":"virtual-video-list-item","item-class-add":e.checkActive}})},os=[];ss._withStripped=!0;const ns={};var rs=Vi(as,ss,os,!1,ls,null,null,null);function ls(e){for(let t in ns)this[t]=ns[t]}rs.options.__file="src/components/video/VirtualVideoCardList.vue";const cs=function(){return rs.exports}(),ds={name:"Playlist",components:{VirtualVideoCardList:cs},props:{playlist:{type:Object,required:!0},isEditable:{type:Boolean,required:!1,default:!1},isSaved:{type:Boolean,required:!1,default:!1},horizontal:{type:Boolean,required:!1,default:!1}},data:()=>({mdiContentSave:lt,mdiFileDelimited:ct,mdiChevronDoubleUp:dt,mdiChevronDoubleDown:ut,editNameMode:!1,instructionsDialog:!1,loginWarning:!1,maxPlaylistCount:500}),computed:{playlistName:{get(){return this.playlist.name},set(e){e&&e.length>0&&this.$store.commit("playlist/setPlaylist",l(r({},this.playlist),{name:e}))}}},methods:{move(e,t){const i=this.playlist.videos.findIndex((t=>t.id===e));if(i<0)throw new Error("huh");let a;switch(t){case"up":a=i-1;break;case"down":a=i+1}if(a<0)throw new Error("can't move stuff before 0");if(a>=this.playlist.videos.length)throw new Error("can't move stuff to beyond the end");this.$store.commit("playlist/reorder",{from:i,to:a})},newPlaylist(){(this.isSaved||confirm(this.$t("views.playlist.change-loss-warning")))&&this.$store.commit("playlist/resetPlaylist")},async downloadAsCSV(){const e=await Ae.json2csvAsync(this.playlist.videos),t=document.createElement("a"),i=(new Date).toISOString().replace("T","_").substr(0,19);t.href=`data:attachment/csv,${encodeURIComponent(e)}`,t.target="_blank",t.download=`holodexPlaylist_${this.playlist.name}_${i}.csv`,document.body.appendChild(t),t.click()},exportToYT(){if(!this.playlist.videos||0===this.playlist.videos.length)return;const e=`https://www.youtube.com/watch_videos?video_ids=${this.playlist.videos.map((e=>e.id)).join(",")}`;window.open(e,"_blank","noopener")},trySaving(){this.$store.state.userdata.jwt?(this.$store.dispatch("playlist/saveActivePlaylist"),this.editNameMode=!1):this.loginWarning=!0}}};var us=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(ht,{staticClass:"pa-0",attrs:{fluid:""}},[i("div",{staticClass:"ml-0 mb-1 d-flex",staticStyle:{"font-size":"1rem !important","font-weight":"500"}},[e.editNameMode?i(Be,{staticClass:"flex-shrink flex-grow pt-0 mt-0",staticStyle:{"flex-basis":"80"},attrs:{autofocus:"","single-line":"","hide-details":"","append-icon":e.icons.mdiPencil,rules:[function(e){return e.length>0||"Should not be empty"}]},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.editNameMode=!1},"click:append":function(t){e.editNameMode=!1}},model:{value:e.playlistName,callback:function(t){e.playlistName=t},expression:"playlistName"}}):i("span",{staticClass:"text-h5 flex-grow flex-shrink",staticStyle:{"flex-basis":"100%"}},[i(Ve,{directives:[{name:"show",rawName:"v-show",value:e.isEditable,expression:"isEditable"}],staticClass:"float-right",attrs:{icon:"",small:""},on:{click:function(t){e.editNameMode=!0}}},[i(Pe,[e._v(" "+e._s(e.icons.mdiPencil)+" ")])],1),e._v(" "+e._s(e.playlist.name)+" ")],1),i(Ve,{directives:[{name:"show",rawName:"v-show",value:!e.isSaved,expression:"!isSaved"}],staticClass:"float-right",attrs:{icon:"",small:"",color:"success"},on:{click:e.trySaving}},[i(Pe,[e._v(e._s(e.mdiContentSave))])],1),i(Ge,{attrs:{bottom:"","offset-y":"","nudge-width":"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[i(Ve,e._g({staticClass:"float-right",attrs:{icon:"",small:""}},a),[i(Pe,[e._v(e._s(e.icons.mdiDotsVertical))])],1)]}}])},[i(He,{attrs:{nav:""}},[e.isEditable?i(Ee,{on:{click:function(t){return e.$emit("new-playlist")}}},[i(Pe,{attrs:{left:"",color:"success"}},[e._v(" "+e._s(e.icons.mdiPlusBox)+" ")]),e._v(" "+e._s(e.$t("component.playlist.menu.new-playlist"))+" ")],1):e._e(),e.isEditable?i(Ee,{on:{click:function(t){e.editNameMode=!0}}},[i(Pe,{attrs:{left:""}},[e._v(" "+e._s(e.icons.mdiPencil)+" ")]),e._v(" "+e._s(e.$t("component.playlist.menu.rename-playlist"))+" ")],1):e._e(),e.isEditable?i(Ee,{attrs:{disabled:e.isSaved||!e.playlist.id},on:{click:function(t){return e.$store.dispatch("playlist/setActivePlaylistByID",e.playlist.id)}}},[i(Pe,{attrs:{left:""}},[e._v(" "+e._s(e.icons.mdiRefresh)+" ")]),e._v(" "+e._s(e.$t("component.playlist.menu.reset-unsaved"))+" ")],1):e._e(),i(ze),i(Ee,{staticClass:"mt-1 mb-1",attrs:{disabled:"",dense:""}},[i(Pe,{attrs:{left:"",disabled:""}},[e._v(" "+e._s(e.icons.mdiOpenInNew)+" ")]),i("span",[e._v(e._s(e.$t("component.playlist.menu.export-playlist")))])],1),i(Ee,{staticClass:"ml-5",attrs:{dense:""},on:{click:function(t){t.stopPropagation(),e.instructionsDialog=!0}}},[i(Pe,{attrs:{left:""}},[e._v(" "+e._s(e.icons.mdiYoutube)+" ")]),e._v(" "+e._s(e.$t("views.library.exportYtPlaylist"))+" ")],1),i(Ee,{staticClass:"ml-5 mb-2",attrs:{dense:""},on:{click:function(t){return t.stopPropagation(),e.downloadAsCSV.apply(null,arguments)}}},[i(Pe,{attrs:{left:""}},[e._v(" "+e._s(e.mdiFileDelimited)+" ")]),e._v(" "+e._s(e.$t("views.library.exportCsv"))+" ")],1),i(ze,{staticClass:"mb-2"}),e.isEditable?i(Ee,{on:{click:function(t){return e.$store.dispatch("playlist/deleteActivePlaylist")}}},[i(Pe,{attrs:{left:"",color:"error"}},[e._v(" "+e._s(e.icons.mdiDelete)+" ")]),e._v(" "+e._s(e.playlist.id?e.$t("component.playlist.menu.delete-playlist"):e.$t("component.playlist.menu.clear-playlist"))+" ")],1):e._e()],1)],1)],1),i(pt,{attrs:{timeout:5e3,color:"warning"},scopedSlots:e._u([{key:"action",fn:function(t){var a=t.attrs;return[i(Ve,e._b({attrs:{color:"red darken-2",text:""},on:{click:function(t){e.$router.push("/login"),e.loginWarning=!1}}},"v-btn",a,!1),[e._v(" "+e._s(e.$t("component.mainNav.login"))+" ")])]}}]),model:{value:e.loginWarning,callback:function(t){e.loginWarning=t},expression:"loginWarning"}},[e._v(" "+e._s(e.$t("component.playlist.save-error-not-logged-in"))+" ")]),i("span",{staticClass:"text-caption grey--text mt-n2 pa-0 d-block text-right"},[e._v(" "+e._s(e.playlist.videos.length)+" / "+e._s(e.maxPlaylistCount)+" ")]),i("VirtualVideoCardList",{staticClass:"playlist-video-list",attrs:{playlist:e.playlist,"include-channel":"",horizontal:e.horizontal,"active-playlist-item":""}}),i(Re,{attrs:{width:e.$store.state.isMobile?"90%":"60vw"},model:{value:e.instructionsDialog,callback:function(t){e.instructionsDialog=t},expression:"instructionsDialog"}},[i(Ie,[i(Ne,[e._v(e._s(e.$t("views.library.exportYTHeading")))]),i(je,[i(mt,[i(vt,{attrs:{cols:""}},[i("p",{domProps:{innerHTML:e._s(e.$t("views.library.exportYTExplanation"))}}),i("br"),i("br"),i("p",{domProps:{innerHTML:e._s(e.$t("views.library.exportYTInstructions"))}}),i(Ve,{staticClass:"mt-2 mx-2",attrs:{color:"green"},on:{click:e.exportToYT}},[e._v(" "+e._s(e.$t("views.library.createYtPlaylistButton",[(e.playlist.videos||[]).length]))+" ")]),i(Ve,{staticClass:"mt-2 mx-2",on:{click:function(t){e.instructionsDialog=!1}}},[e._v(" "+e._s(e.$t("views.library.deleteConfirmationCancel"))+" ")])],1),i(vt,{attrs:{cols:"12",md:"auto"}},[i("img",{attrs:{src:"/img/playlist-instruction.jpg"}})])],1)],1)],1)],1)],1)},hs=[];us._withStripped=!0;const ps={};var ms=Vi(ds,us,hs,!1,vs,null,null,null);function vs(e){for(let t in ps)this[t]=ps[t]}ms.options.__file="src/components/playlist/Playlist.vue";const gs={name:"EditPlaylist",components:{Playlist:function(){return ms.exports}()},computed:r({},Ye("playlist",["active","isSaved"]))};var fs=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(Ie,{staticClass:"nav-scroll pl-2",attrs:{width:"400"}},[e._t("default"),i("div",{staticClass:"pa-2"},[i("playlist",{attrs:{playlist:e.active,"is-editable":"","is-saved":e.isSaved,horizontal:""}})],1)],2)},ys=[];fs._withStripped=!0;const bs={};var _s=Vi(gs,fs,ys,!1,ws,null,null,null);function ws(e){for(let t in bs)this[t]=bs[t]}_s.options.__file="src/components/playlist/EditPlaylist.vue";const ks=function(){return _s.exports}(),Cs={name:"ResponsiveMenu",extends:Ge,props:{itemCount:{type:Number,default:0}},watch:{itemCount:Le((function(){this.onResize()}),500)}};const Ss={};var $s=Vi(Cs,undefined,undefined,!1,xs,null,null,null);function xs(e){for(let t in Ss)this[t]=Ss[t]}$s.options.__file="src/components/common/ResponsiveMenu.vue";const As=function(){return $s.exports}(),Ls={name:"ChannelImg",props:{channel:{type:Object,required:!0},size:{type:[String,Number],default:40},noLink:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1}},data:()=>({err:!1}),computed:{photo(){if(this.err){const e=Math.min(Math.max(50*Math.ceil(this.size/50),50),150);return`/statics/channelImg/${this.channel.id}/${e}.png`}return this.channel.photo?La(this.channel.photo,this.size):""}},methods:{goToChannel(){this.$router.push({path:`/channel/${this.channel.id}`})}}};var Ms=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.noLink?i(st,{staticClass:"d-block",attrs:{tag:"img",src:e.photo,crossorigin:"anonymous",loading:"lazy",alt:e.channel.name+"'s profile picture",width:e.size,height:e.size}}):i("a",{attrs:{href:"/channel/"+e.channel.id},on:{click:function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:(t.stopPropagation(),t.preventDefault(),e.goToChannel())}}},[i(st,{staticClass:"d-block",class:e.rounded&&"rounded-circle",attrs:{tag:"img",src:e.photo,crossorigin:"anonymous",loading:"lazy",alt:e.channel.name+"'s profile picture",width:e.size,height:e.size},on:{error:function(t){e.err=!0}}})],1)},Is=[];Ms._withStripped=!0;const Es={};var Ps=Vi(Ls,Ms,Is,!1,Ts,"5af9207c",null,null);function Ts(e){for(let t in Es)this[t]=Es[t]}Ps.options.__file="src/components/channel/ChannelImg.vue";const Os=function(){return Ps.exports}(),Ds=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Os}),Vs={components:{ChannelSocials:()=>vi((()=>Promise.resolve().then((()=>Co))),void 0)},props:{channel:{type:Object,required:!0},includeSocials:{type:Boolean,default:!1},includeVideoCount:{type:Boolean,default:!1},noSubscriberCount:{type:Boolean,default:!1},noGroup:{type:Boolean,default:!1}},computed:{subscriberCount(){return this.channel.subscriber_count?this.$tc("component.channelInfo.subscriberCount",Pa(this.channel.subscriber_count,this.$store.state.settings.lang)):this.$t("component.channelInfo.subscriberNA")},channelName(){const e=this.$store.state.settings.nameProperty;return this.channel[e]?this.channel[e]:this.channel.name}},methods:{formatCount:Pa,async searchTopic(e){const t=[{type:"channel",value:this.channel.id,text:this.channel.name},{type:"topic",value:e,text:e}];this.$router.push({path:"/search",query:{q:await Ae.json2csvAsync(t)}})}}};var Gs=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(Te,[i(Qe,{staticStyle:{"align-self":"flex-start"}},[i("router-link",{staticClass:"no-decoration text-truncate",attrs:{to:"/channel/"+e.channel.id}},[e._v(" "+e._s(e.channelName)+" "),i("small",{staticClass:"text--secondary text--org"},[e._v(" "+e._s(e.channel.org)+" "),!e.noGroup&&e.channel.group?i("span",[e._v("• "+e._s(e.channel.group))]):e._e()])])],1),i(Oe,[e.noSubscriberCount?e._e():[e._v(" "+e._s(e.subscriberCount)+" ")],e.includeVideoCount?[e._v(" • "+e._s(e.$t("component.channelInfo.videoCount",[e.channel.video_count]))+" "),e.channel.clip_count>0?i("router-link",{staticClass:"no-decoration",attrs:{to:"/channel/"+e.channel.id+"/clips"}},[e._v(" • "),i("span",{staticClass:"primary--text"},[e._v(e._s(e.$tc("component.channelInfo.clipCount",e.channel.clip_count)))])]):e._e()]:e._e()],2),e.channel.top_topics&&e.channel.top_topics.length?i(Oe,[e._v(" 🏆 "),e._l(e.channel.top_topics,(function(t){return i("a",{key:t,staticClass:"topic-chip",on:{click:function(i){return i.ctrlKey||i.shiftKey||i.altKey||i.metaKey?null:(i.stopPropagation(),i.preventDefault(),e.searchTopic(t))}}},[e._v(" "+e._s(t)+" ")])}))],2):e._e(),e.includeSocials?i(Oe,[i("ChannelSocials",{attrs:{channel:e.channel}})],1):e._e(),e._t("default")],2)},Fs=[];Gs._withStripped=!0;const Rs={};var Ns=Vi(Vs,Gs,Fs,!1,js,"3acf94c5",null,null);function js(e){for(let t in Rs)this[t]=Rs[t]}Ns.options.__file="src/components/channel/ChannelInfo.vue";const Bs=function(){return Ns.exports}(),Hs={name:"Settings",metaInfo(){const e=this;return{get title(){return`${e.$t("component.mainNav.settings")} - Holodex`}}},props:{slim:{type:Boolean,default:!1}},data(){return{langs:fa,mdiFilterOutline:gt,mdiEarth:_,mdiPalette:ft,mdiEyeOff:yt,mdiCogBox:bt,mdiWeatherNight:_t,mdiHome:S,mdiBookOpenPageVariantOutline:wt,mdiArrowExpandVertical:kt,mdiGestureTap:Ct,TL_LANGS:xi,themeId:+localStorage.getItem("theme")||0,themeSet:ca,defaultOpenChoices:Object.freeze([{text:this.$t("component.mainNav.home"),value:"home"},{text:this.$t("component.mainNav.favorites"),value:"favorites"},{text:this.$t("component.mainNav.multiview"),value:"multiview"}]),topics:[]}},computed:l(r({},Oa("settings",["darkMode","redirectMode","autoplayVideo","scrollMode","hideThumbnail","defaultOpen","hideCollabStreams","ignoredTopics"])),{currentCol(){return this.$vuetify.breakpoint.smAndDown?12:this.$vuetify.breakpoint.md?6:this.$vuetify.breakpoint.lgAndUp?4:null},currentGridSize:{get(){return this.$store.state.currentGridSize},set(e){this.$store.commit("setCurrentGridSize",e)}},useEnName:{get(){return this.$store.getters["settings/useEnName"]},set(e){this.$store.commit("settings/setUseEnName",e)}},language:{get(){return this.$store.state.settings.lang},set(e){this.$store.commit("settings/setLanguage",e),this.overrideLanguage&&(this.overrideLanguage=void 0)}},overrideLanguage:{get(){return this.$route.query.lang},set(e){this.$route.query.lang=e;const t=this.$router.resolve({name:this.$route.name,params:this.$route.params,query:this.$route.query,hash:this.$route.hash});window.location.assign(t.href)}},clipLangs:{get(){return this.$store.state.settings.clipLangs},set(e){this.$store.commit("settings/setClipLangs",e.sort())}},ignoredTopics:{get(){return this.$store.state.settings.ignoredTopics},set(e){this.$store.commit("settings/setIgnoredTopics",e.sort())}},theme(){return this.$vuetify.theme},mode(){return this.darkMode?"dark":"light"}}),watch:{hideCollabStreams(){this.$store.commit("favorites/setLastLiveUpdate",0)},themeId(e){localStorage.setItem("theme",`${e}`),Xe.set(this.$vuetify.theme.themes,"dark",r(r({},this.$vuetify.theme.themes.dark),ca[e].themes.dark)),Xe.set(this.$vuetify.theme.themes,"light",r(r({},this.$vuetify.theme.themes.light),ca[e].themes.light))}},async mounted(){Pi.topics().then((({data:e})=>{this.topics=e.map((({id:e,count:t})=>({value:e,text:`${e} (${t})`})))}))},methods:{goToSettings(){this.$emit("close"),this.$router.push({path:"/settings"})},resetSettings(){confirm(this.$t("views.settings.resetAllSettingsWarning"))&&(this.$store.commit("resetState"),this.$store.commit("home/resetState"),this.$store.commit("channel/resetState"),this.$store.commit("channels/resetState"),this.$store.commit("watch/resetState"),this.$store.commit("settings/resetState"),this.$store.commit("favorites/resetState"),this.$store.commit("music/resetState"),this.$store.commit("multiview/resetState"),this.$store.commit("playlist/resetState"),this.$store.commit("history/resetState"),window.location.reload())}}};var zs=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(ht,{class:{"pa-0":e.slim},style:e.slim&&"max-width: 80vw; width:500px;"},[i(mt,{attrs:{dense:""}},[e.slim?e._e():i(vt,{attrs:{cols:"12"}},[i("div",{staticClass:"text-h4 mb-2 ml-5 mt-2"},[e._v(" "+e._s(e.$t("views.settings.title"))+" ")])]),i(vt,{class:{"pt-3":e.slim},attrs:{cols:e.slim?12:e.currentCol}},[i(St,{staticClass:"settings-group",class:{"my-0 py-0":e.slim}},[e.slim?i(Ve,{staticClass:"float-right mt-n2",attrs:{color:"primary",text:"",href:"/settings"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.goToSettings(t)}}},[e._v(" "+e._s(e.$t("views.settings.moreSettings"))+" "),i(Pe,{attrs:{right:"",small:""}},[e._v(" "+e._s(e.icons.mdiChevronRight)+" ")])],1):e._e(),i(Ne,{staticClass:"py-1"},[i(Pe,{staticClass:"ml-n3",attrs:{large:"",disabled:"",left:""}},[e._v(" "+e._s(e.mdiEarth)+" ")]),i("span",{staticClass:"text-h6 font-weight-light"},[e._v(e._s(e.$t("views.settings.languageSettings")))])],1),i(je,{staticClass:"pb-0"},[i($t,{attrs:{items:e.langs,"item-value":"val","prepend-icon":e.icons.mdiTranslate,hint:"» "+e.langs.find((function(t){return t.val===e.language})).credit,"persistent-hint":""},scopedSlots:e._u([{key:"item",fn:function(t){var a=t.item;return[i("div",[i("span",{staticClass:"primary--text"},[e._v(e._s(a.display))]),i("span",{staticClass:"px-2 text--secondary text-caption"},[e._v(" ♡ "+e._s(a.credit))])])]}},{key:"selection",fn:function(t){var a=t.item;return[i("span",{staticClass:"primary--text"},[e._v(e._s(a.display))])]}}]),model:{value:e.language,callback:function(t){e.language=t},expression:"language"}}),e.overrideLanguage?i(xt,{scopedSlots:e._u([{key:"default",fn:function(t){var a=t.hover;return[i(At,{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"mt-3 mb-1",staticStyle:{cursor:"pointer"},attrs:{dense:"",block:"",prominent:"",text:!a,color:"orange accent-3",elevation:"10",icon:e.mdiGestureTap},on:{click:function(t){e.overrideLanguage=void 0}}},[e._v(" Language is being overridden to "),i("code",[e._v(e._s(e.langs.find((function(t){return t.val===e.overrideLanguage})).display))]),e._v(", click here to reset. ")])]}}],null,!1,1109853549)}):e._e(),i(Lt,{staticClass:"v-input--reverse v-input--expand mt-2",attrs:{inset:"","prepend-icon":" ",label:e.$t("views.settings.useEnglishNameLabel"),messages:e.$t("views.settings.useEnglishNameMsg")},model:{value:e.useEnName,callback:function(t){e.useEnName=t},expression:"useEnName"}}),i("div",{staticClass:"mt-6 mb-4"},[i(Pe,{staticStyle:{"margin-right":"9px"}},[e._v(" "+e._s(e.mdiFilterOutline)+" ")]),i("span",{staticClass:"text-body-1"},[e._v(e._s(e.$t("views.settings.clipLanguageSelection")))])],1),e._l(e.TL_LANGS,(function(t){return i(Mt,{key:t.value+"settingcheckbox",staticClass:"ml-4 mt-n2",attrs:{label:t.text,value:t.value,dense:""},model:{value:e.clipLangs,callback:function(t){e.clipLangs=t},expression:"clipLangs"}})}))],2)],1)],1),i(vt,{attrs:{cols:e.slim?12:e.currentCol}},[i(St,{staticClass:"settings-group",class:{"my-0 py-0":e.slim}},[i(Ne,{staticClass:"py-1"},[i(Pe,{staticClass:"ml-n3",attrs:{large:"",disabled:"",left:""}},[e._v(" "+e._s(e.icons.mdiCog)+" ")]),i("span",{staticClass:"text-h6 font-weight-light"},[e._v(e._s(e.$t("views.settings.siteNavigationSettings")))])],1),i(je,[i(Lt,{staticClass:"v-input--reverse v-input--expand",attrs:{label:e.$t("views.settings.darkModeLabel"),"hide-details":"",inset:"","prepend-icon":e.mdiWeatherNight},model:{value:e.darkMode,callback:function(t){e.darkMode=t},expression:"darkMode"}}),i("div",{staticClass:"mt-6"},[i(Pe,{staticStyle:{"margin-right":"9px"}},[e._v(" "+e._s(e.mdiPalette)+" ")]),i("span",{staticClass:"text-body-1"},[e._v(e._s(e.$t("views.settings.theme")))]),i($t,{staticClass:"mt-0 d-inline-block float-right",staticStyle:{width:"150px"},attrs:{"hide-details":"",dense:"",items:e.themeSet,"item-value":"id"},scopedSlots:e._u([{key:"item",fn:function(t){var a=t.item;return[i("div",{staticClass:"theme-preview"},[i("span",{style:"background:"+a.themes[e.mode].primary}),i("span",{style:"background:"+a.themes[e.mode].secondary}),e._v(" "+e._s(a.name)+" ")])]}},{key:"selection",fn:function(t){var a=t.item;return[i("div",{staticClass:"theme-preview"},[i("span",{style:"background:"+a.themes[e.mode].primary}),i("span",{style:"background:"+a.themes[e.mode].secondary}),e._v(" "+e._s(a.name)+" ")])]}}]),model:{value:e.themeId,callback:function(t){e.themeId=t},expression:"themeId"}})],1),i("div",{staticClass:"mb-0 mt-6"},[i(Pe,{staticStyle:{"margin-right":"9px"}},[e._v(" "+e._s(e.icons.mdiGrid)+" ")]),i("span",{staticClass:"text-body-1"},[e._v(e._s(e.$t("views.settings.gridSizeLabel")))])],1),i($t,{staticClass:"mt-n4",attrs:{"prepend-icon":" ",items:[{text:e.$t("views.settings.gridSize[0]"),value:0},{text:e.$t("views.settings.gridSize[1]"),value:1},{text:e.$t("views.settings.gridSize[2]"),value:2}],messages:e.$t("views.settings.gridSizeMsg")},model:{value:e.currentGridSize,callback:function(t){e.currentGridSize=t},expression:"currentGridSize"}})],1)],1),e.slim?e._e():i(St,{staticClass:"settings-group mt-2"},[i(je,[i("div",[i(Pe,{staticStyle:{"margin-right":"9px"}},[e._v(" "+e._s(e.mdiHome)+" ")]),i("span",{staticClass:"text-body-1"},[e._v(e._s(e.$t("views.settings.defaultPage")))])],1),i($t,{staticClass:"mt-n4",attrs:{"prepend-icon":" ",items:e.defaultOpenChoices,messages:e.$t("views.settings.defaultPageMsg")},model:{value:e.defaultOpen,callback:function(t){e.defaultOpen=t},expression:"defaultOpen"}}),i(Lt,{staticClass:"v-input--reverse v-input--expand mt-6",attrs:{"prepend-icon":e.scrollMode?e.mdiArrowExpandVertical:e.mdiBookOpenPageVariantOutline,inset:"",label:e.$t("views.settings.scrollModeLabel"),messages:e.$t("views.settings.scrollModeMsg")},model:{value:e.scrollMode,callback:function(t){e.scrollMode=t},expression:"scrollMode"}}),i(Lt,{staticClass:"v-input--reverse v-input--expand mt-6",attrs:{"prepend-icon":e.icons.mdiYoutube,inset:"",label:e.$t("views.settings.redirectModeLabel"),messages:e.$t("views.settings.redirectModeMsg")},model:{value:e.redirectMode,callback:function(t){e.redirectMode=t},expression:"redirectMode"}})],1)],1)],1),e.slim?e._e():i(vt,[i(St,{staticClass:"settings-group"},[i(Ne,{staticClass:"py-1"},[i(Pe,{staticClass:"ml-n3",attrs:{large:"",disabled:"",left:""}},[e._v(" "+e._s(e.mdiFilterOutline)+" ")]),i("span",{staticClass:"text-h6 font-weight-light"},[e._v(e._s(e.$t("views.settings.videoFeedSettings")))])],1),i(je,[i(Lt,{staticClass:"v-input--reverse v-input--expand",attrs:{"prepend-icon":e.mdiEyeOff,inset:"",label:e.$t("views.settings.hideCollabStreamsLabel"),messages:e.$t("views.settings.hideCollabStreamsMsg")},model:{value:e.hideCollabStreams,callback:function(t){e.hideCollabStreams=t},expression:"hideCollabStreams"}}),i(Me,{attrs:{items:e.topics,"prepend-icon":" ",multiple:"",chips:"",clearable:"","deletable-chips":"",label:e.$t("views.settings.ignoredTopicsLabel"),hint:e.$t("views.settings.ignoredTopicsMsg"),"persistent-hint":""},model:{value:e.ignoredTopics,callback:function(t){e.ignoredTopics=t},expression:"ignoredTopics"}}),i(Lt,{staticClass:"v-input--reverse v-input--expand",attrs:{"prepend-icon":" ",inset:"",label:e.$t("views.settings.hideVideoThumbnailsLabel"),messages:e.$t("views.settings.hideVideoThumbnailsMsg")},model:{value:e.hideThumbnail,callback:function(t){e.hideThumbnail=t},expression:"hideThumbnail"}})],1)],1),e.slim?e._e():i("br"),e.slim?e._e():i(Ve,{attrs:{block:"",color:"warning"},on:{click:e.resetSettings}},[e._v(" "+e._s(e.$t("views.settings.resetAllSettings"))+" ")])],1)],1)],1)},Us=[];zs._withStripped=!0;const qs={};var Ys=Vi(Hs,zs,Us,!1,Ws,null,null,null);function Ws(e){for(let t in qs)this[t]=qs[t]}Ys.options.__file="src/views/Settings.vue";const Ks={name:"NavDrawer",components:{ChannelImg:Os,ChannelInfo:Bs,Settings:function(){return Ys.exports}()},props:{pages:{required:!0,type:Array},value:{type:Boolean,default:!1},temporary:{type:Boolean,default:!1}},data:()=>({favoritesExpanded:!1,tick:Date.now(),ticker:null,showSettings:!1,mdiTuneVariant:It}),computed:{language(){return fa.find((e=>e.val===this.$store.state.settings.lang)).display},favorites(){const e=this.$store.state.favorites.favorites||[];try{const t=this.$store.getters["favorites/favoriteChannelIDs"],i=this.$store.state.favorites.live,a=this.$store.state.favorites.lastLiveUpdate;console.debug(`Updating favs: ${a}`);const s={};i.forEach((e=>{t.has(e.channel.id)&&!s[e.channel.id]&&(s[e.channel.id]=e)}));const o=e.filter((e=>!s[e.id])).map((e=>({channel:e})));return o.sort(((e,t)=>{const i=this.$store.state.settings.nameProperty,a=e.channel[i]||e.channel.name||"",s=t.channel[i]||t.channel.name||"";return a.localeCompare(s)})),[...Object.values(s),...o]}catch(t){console.error(t);try{return e.map((e=>({channel:e})))}catch(i){return console.error("fallback also failed LOL"),console.error(i),[]}}},collapsedFavorites(){return!this.favoritesExpanded&&this.favorites.length>8?this.favorites.slice(0,8):this.favorites}},created(){this.ticker||(this.ticker=setInterval((()=>{this.tick=Date.now()}),6e4))},beforeDestroy(){this.ticker&&clearInterval(this.ticker)},methods:{handlePageClick(e){e.path!==this.$route.path||this.$route.query.page?this.$router.push({path:e.path}):this.refresh()},async refresh(){(await this.$store.dispatch("reloadCurrentPage",{source:"ptr",consumed:!1})).consumed||this.$router.go(0)},formatDurationUpcoming(e){const t=he(e).diff(he())/1e3;if(t>0){const e=Math.floor(t/3600),i=Math.floor(t%3600/60);return e?`${e}h`:`${i}m`}return"●"},isLive:e=>"live"===e.status}};var Qs=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(Et,{staticClass:"nav-scroll",staticStyle:{"padding-top":"env(safe-area-inset-top)","padding-left":"calc(env(safe-area-inset-left) / 1.3)"},attrs:{value:e.value,app:"",width:"240",clipped:"",temporary:e.temporary},on:{input:function(t){return e.$emit("input",t)}}},[e._t("default"),i(He,{staticClass:"pb-0",attrs:{dense:""}},[e._l(e.pages,(function(t){return[i(Ee,{key:t.name,class:{"v-list-item--active":e.$route.path===t.path},attrs:{link:"",href:t.path},on:{click:function(i){return i.preventDefault(),e.handlePageClick(t)}}},[i(Je,[i(Pe,[e._v(e._s(t.icon))])],1),i(Te,[i(Qe,{domProps:{innerHTML:e._s(t.name)}})],1),"/settings"===t.path&&e.$vuetify.breakpoint.smAndUp?i(Je,[i(Ge,{attrs:{right:!1,"nudge-right":-50,"max-height":"80vh","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,s=t.attrs;return[i(Pe,e._g(e._b({on:{click:function(e){e.stopPropagation(),e.preventDefault()}}},"v-icon",s,!1),a),[e._v(" "+e._s(e.mdiTuneVariant)+" ")])]}}],null,!0),model:{value:e.showSettings,callback:function(t){e.showSettings=t},expression:"showSettings"}},[i(Ie,{staticClass:"py-n2 scrollable",attrs:{rounded:"lg"}},[i("settings",{attrs:{slim:""},on:{close:function(t){e.showSettings=!1}}})],1)],1)],1):e._e()],1),t.divider?i(ze,{key:t.path+"-divider"}):e._e()]}))],2),i(ze),i(He,{attrs:{dense:""}},[i(Pt,{staticClass:"pl-5 text-overline"},[e._v(" "+e._s(e.$t("component.mainNav.favorites"))+" ")]),e._l(e.collapsedFavorites,(function(t){return[t?i(Ee,{key:t.id,class:{"v-list-item--active":e.$route.path.startsWith("/channel/"+t.channel.id)},on:{click:function(i){e.$router.push("/channel/"+t.channel.id).catch((function(){}))}}},[i(Ke,{class:{outlined:e.isLive(t)},attrs:{size:30}},[i("ChannelImg",{attrs:{channel:t.channel,size:30}})],1),i("ChannelInfo",{attrs:{channel:t.channel,"no-subscriber-count":"","no-group":""}}),t.id?i(Tt,{key:"liveclock"+t.id+e.tick},[e.isLive(t)?i("span",{staticClass:"ch-live"},[e._v("●")]):i("span",{staticClass:"ch-upcoming"},[e._v(" "+e._s(e.formatDurationUpcoming(t.available_at))+" ")])]):e._e()],1):e._e()]})),e.favorites.length>8?i(Ee,{attrs:{link:""},on:{click:function(t){e.favoritesExpanded=!e.favoritesExpanded}}},[i(De,[i(Pe,[e._v(e._s(e.favoritesExpanded?e.icons.mdiChevronUp:e.icons.mdiChevronDown))])],1),i(Te,[i(Qe,[e._v(" "+e._s(e.favoritesExpanded?e.$t("views.favorites.close"):e.$t("views.favorites.showall"))+" ")])],1)],1):e._e(),i(Ee,[i("router-link",{staticClass:"ma-auto",staticStyle:{"font-size":"0.825rem"},attrs:{to:"/channel"}},[e._v(" "+e._s(e.$t("views.favorites.manageFavorites"))+" ")])],1),i(Ee,[i("router-link",{staticClass:"ma-auto",staticStyle:{"font-size":"0.825rem"},attrs:{to:"/settings"}},[i(Pe,{attrs:{small:""}},[e._v(" "+e._s(e.icons.mdiEarth)+" ")]),i("span",{staticClass:"px-1"},[e._v(e._s(e.language))]),i(Pe,{attrs:{small:""}},[e._v(" "+e._s(e.icons.mdiMessageCogOutline)+" ")])],1)],1)],2)],2)},Js=[];Qs._withStripped=!0;const Xs={};var Zs=Vi(Ks,Qs,Js,!1,eo,null,null,null);function eo(e){for(let t in Xs)this[t]=Xs[t]}Zs.options.__file="src/components/nav/NavDrawer.vue";const to=function(){return Zs.exports}(),io={name:"BottomNav",props:{pages:{required:!0,type:Array},active:{type:Boolean,required:!1,default:!0}},data:()=>({value:"/"}),computed:{isWatchPage(){return["watch_id","watch","mugen-clips","edit_video","multiview"].includes(this.$route.name)}},methods:{scrollToTop(e){e.path===this.$route.path&&window.scroll({top:0,left:0,behavior:"smooth"})}}};var ao=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(Ot,{directives:[{name:"show",rawName:"v-show",value:!e.isWatchPage,expression:"!isWatchPage"}],staticClass:"bottom-nav",attrs:{value:e.value,grow:"","input-value":e.active,app:!e.isWatchPage,"scroll-threshold":1e4}},[e._l(e.pages,(function(t){return[i(Ve,{key:t.name,staticClass:"nav-btn",staticStyle:{background:"transparent"},attrs:{value:t.path,to:t.path},nativeOn:{click:function(i){return e.scrollToTop(t)}}},[i("span",[e._v(e._s(t.name))]),i(Pe,[e._v(e._s(t.icon))])],1)]}))],2)},so=[];ao._withStripped=!0;const oo={};var no=Vi(io,ao,so,!1,ro,null,null,null);function ro(e){for(let t in oo)this[t]=oo[t]}no.options.__file="src/components/nav/BottomNav.vue";const lo={components:{SearchBar:Ni,NavDrawer:to,BottomNav:function(){return no.exports}(),UserCard:ra,Logo:Yi,MusicBar2:()=>vi((()=>import("./MusicBar2.f17681a1.js")),["assets/MusicBar2.f17681a1.js","assets/MusicBar2.7840ff72.css","assets/vendor.f7b02bb7.js","assets/vendor.06e82a89.css","assets/SongItem.af0b257c.js","assets/SongItem.70fc9da0.css"]),OrgSelector:ea,EditPlaylist:ks,ResponsiveMenu:As},mixins:[la],data:()=>({favoritesExpanded:!1,searchBarExpanded:!1}),computed:r({isMobile(){return this.$store.state.isMobile},darkMode(){return this.$store.state.settings.darkMode},isWatchPage(){return["watch_id","watch","mugen-clips","edit_video","multiview"].includes(this.$route.name)},isMultiView(){return"multiview"===this.$route.name},navDrawer:{get(){return this.$store.state.navDrawer},set(e){return this.$store.commit("setNavDrawer",e)}},pages(){return[{name:this.$t("component.mainNav.home"),path:"/",icon:this.icons.mdiHome},{name:this.$t("component.mainNav.favorites"),path:"/favorites",icon:this.icons.mdiHeart},{name:this.$t("component.mainNav.channels"),path:"/channel",icon:this.icons.mdiAccountBoxMultiple},{name:this.$t("component.mainNav.playlist"),path:"/playlists",icon:this.icons.mdiPlaylistPlay,divider:!0},{name:this.$t("component.mainNav.multiview"),path:"/multiview",icon:this.icons.mdiViewDashboard,collapsible:!0},{name:this.$t("component.mainNav.music"),path:"/music",icon:this.icons.mdiMusic,collapsible:!0},{name:this.$t("component.mainNav.MugenClips"),path:"/infinite",icon:Dt,collapsible:!0,divider:!0},{name:this.$t("component.mainNav.about"),path:"/about",icon:this.icons.mdiHelpCircle,collapsible:!0},{name:this.$t("component.mainNav.settings"),path:"/settings",icon:this.icons.mdiCog,collapsible:!0}]}},Ye(["firstVisit"])),watch:{isWatchPage(){this.isMobile||(this.navDrawer=!this.isWatchPage)},isMobile(){this.navDrawer=!1}},created(){if(this.$store.state.firstVisit){const e=this;setTimeout((()=>{e.$store.commit("setVisited")}),3e4)}window.location.pathname.match("^/watch|^/multiview|^/infinite")||this.isMobile||this.$vuetify.breakpoint.md||(this.navDrawer=!0)}};var co=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i(Vt,{directives:[{name:"show",rawName:"v-show",value:!(e.isMobile&&e.isWatchPage||e.isMultiView),expression:"!(isMobile && isWatchPage) && !isMultiView"}],class:{"secondary darken-1":e.darkMode,"primary lighten-1":!e.darkMode},attrs:{id:"top-bar",app:!e.isWatchPage,"clipped-left":"","clipped-right":"",flat:"","extension-height":"36"}},[!e.isMobile||e.isMobile&&!e.searchBarExpanded?[i(Gt,{class:{"pa-0":e.isMobile},staticStyle:{overflow:"visible"}},[i("router-link",{attrs:{to:{name:e.$store.state.settings.defaultOpen||"/"}}},[e.isMobile?e._e():i("Logo",{staticStyle:{"margin-bottom":"-4px"},attrs:{width:"24",height:"24"}})],1),i("OrgSelector")],1)]:e._e()],2)],1)},uo=[];co._withStripped=!0;const ho={};var po=Vi(lo,co,uo,!1,mo,"196260e2",null,null);function mo(e){for(let t in ho)this[t]=ho[t]}po.options.__file="src/components/nav/NabidexNav.vue";const vo=function(){return po.exports}(),go={props:{channel:{type:Object,required:!0},vertical:{type:Boolean,required:!1},hideYt:{type:Boolean,default:!1,required:!1},hideTwitter:{type:Boolean,default:!1,required:!1},hideFav:{type:Boolean,default:!1,required:!1},showDelete:{type:Boolean,default:!1,required:!1}},data:()=>({mdiAccountCancel:Ft,mdiHeartOutline:Rt}),computed:{tooltip(){return this.isLoggedIn?this.isFavorited?this.$t("component.channelSocials.removeFromFavorites"):this.$t("component.channelSocials.addToFavorites"):this.$t("component.channelList.signInToFavorite")},blockTooltip(){return this.isBlocked?this.$t("component.channelSocials.unblock"):this.$t("component.channelSocials.block")},isBlocked(){return this.$store.getters["settings/blockedChannelIDs"].has(this.channel.id)},isFavorited(){return this.$store.getters["favorites/isFavorited"](this.channel.id)},isLoggedIn(){return this.$store.getters.isLoggedIn}},methods:{toggleFavorite(e){e.preventDefault(),this.isLoggedIn&&(this.$store.commit("favorites/toggleFavorite",this.channel.id),this.$store.dispatch("favorites/updateFavorites"))},toggleBlocked(){this.$store.commit("settings/toggleBlocked",this.channel)}}};var fo=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:{"channel-social-horizontal":!e.vertical},on:{click:function(e){e.stopPropagation()}}},[e.channel.id&&!e.hideYt?i(Ve,{attrs:{icon:"",sm:"",href:"https://www.youtube.com/channel/"+e.channel.id,rel:"noreferrer",target:"_blank"}},[i(Pe,{attrs:{color:"#C4302B"}},[e._v(" "+e._s(e.icons.mdiYoutube)+" ")])],1):e._e(),e.channel.twitter&&!e.hideTwitter?i(Ve,{attrs:{icon:"",sm:"",href:"https://twitter.com/"+e.channel.twitter,rel:"noreferrer",target:"_blank"}},[i(Pe,{attrs:{color:"#00ACEE"}},[e._v(" "+e._s(e.icons.mdiTwitter)+" ")])],1):e._e(),e.showDelete?i(Nt,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,s=t.attrs;return[i(Ve,e._g(e._b({attrs:{icon:!e.isBlocked,color:e.isBlocked?"red":"grey",sm:""},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleBlocked.apply(null,arguments)}}},"v-btn",s,!1),a),[i(Pe,{attrs:{left:e.isBlocked}},[e._v(" "+e._s(e.mdiAccountCancel)+" ")]),e.isBlocked?i("span",[e._v(e._s(e.$t("component.channelSocials.blocked")))]):e._e()],1)]}}],null,!1,1804541175)},[i("span",[e._v(" "+e._s(e.blockTooltip)+" ")])]):e._e()],1)},yo=[];fo._withStripped=!0;const bo={};var _o=Vi(go,fo,yo,!1,wo,null,null,null);function wo(e){for(let t in bo)this[t]=bo[t]}_o.options.__file="src/components/channel/ChannelSocials.vue";const ko=function(){return _o.exports}(),Co=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ko}),So={methods:{filterVideos(e,{ignoreBlock:t=!1,hideCollabs:i=!1,hideIgnoredTopics:a=!0,forOrg:s=""}){const o=this.$store.getters["settings/blockedChannelIDs"],n=this.$store.getters["settings/ignoredTopics"],r=this.$store.getters["favorites/favoriteChannelIDs"],l=s||this.$store.state.currentOrg.name;let c=!0;const d=e.channel_id||e.channel.id;return t||c&&(c=!o.has(d)),i&&c&&(c=r.has(d)||e.channel.org===l),a&&c&&(c=!n.has(e.topic_id)),c}}};var $o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i(Re,{attrs:{width:"500"},model:{value:e.showReportDialog,callback:function(t){e.showReportDialog=t},expression:"showReportDialog"}},[e.video?i(Ie,[i(Ne,{staticClass:"headline"},[e._v(" "+e._s(e.$t("component.reportDialog.title"))+" ")]),i(je,{attrs:{"v-if":!e.isLoading}},[i(At,{attrs:{dense:"",text:"",type:"error",dismissible:""},model:{value:e.error,callback:function(t){e.error=t},expression:"error"}},[e._v(" Error Occured ")]),e.isCollab?i(At,{attrs:{type:"info"}},[e._v(" "+e._s(e.$t("component.reportDialog.collabing",{org:e.$store.state.currentOrg.name}))+" ")]):e._e(),i("span",{staticClass:"text-body-1"},[e._v(e._s(e.video.title))]),i("br"),e._v(" "+e._s(e.video.channel.name)+" "),i("br"),i(jt,{model:{value:e.selectedReason,callback:function(t){e.selectedReason=t},expression:"selectedReason"}},e._l(e.reasons,(function(e){return i(Bt,{key:e.value,attrs:{label:e.text,value:e.value}})})),1),"UCF4-I8ZQL6Aa-iHfdz-B9KQ"===e.video.channel.id?i(je,{staticClass:"red--text"},[i("b",[e._v("Note: Please don't report just because you disagree / dislike this subber.")]),e.readMore?i("div",[i("p",[e._v(" Holodex platform doesn't arbitrate between sub-par and good TLs. For minor issues, you should feedback changes to the subber on youtube via comments, or else reporting them to whoever they're clipping (Cover or Nijisanji etc.). ")]),i("p",[e._v(" However, if the video in question is indeed dangerously translated to cause misunderstandings, we will definitely either delete the video or deplatform the channel, in addition to escalating to relevant organizations. ")]),i("p",[e._v(" If you'd like to not see this channel ever again, there's a "),i("b",[e._v("Block Channel")]),e._v(" button below, and on the channel page. ")])]):i("a",{on:{click:function(t){t.stopPropagation(),e.readMore=!0}}},[e._v(" Read more...")])]):e._e(),i(Ht,{attrs:{filled:"",label:e.$t("component.reportDialog.comments"),"persistent-hint":"",hint:"* English / 日本語 / 繁體中文 OK",error:!e.comments.length},model:{value:e.comments,callback:function(t){e.comments=t},expression:"comments"}})],1),i(ze),i("channel-socials",{staticClass:"d-inline-block ml-4",attrs:{channel:e.video.channel,"show-delete":"","hide-yt":"",vertical:""}}),i(Pe,{staticClass:"ml-1",attrs:{small:""}},[e._v(" "+e._s(e.icons.mdiArrowLeft)+" ")]),e._v(" "+e._s(e.$t("component.channelSocials.block"))+" "),i(ze),i(Ue,[i(qe),i(Ve,{attrs:{text:""},on:{click:function(t){e.showReportDialog=!1}}},[e._v(" "+e._s(e.$t("views.app.close_btn"))+" ")]),i(Ve,{attrs:{color:"primary",disabled:0===e.comments.length},on:{click:e.sendReport}},[e._v(" "+e._s(e.$t("views.multiview.confirmOverwriteYes"))+" ")])],1)],1):e._e()],1),i(pt,{attrs:{timeout:3e3,color:"success"},scopedSlots:e._u([{key:"action",fn:function(){return[i(Ve,{staticClass:"ml-auto",attrs:{text:""},on:{click:function(t){e.showSnackbar=!1}}},[e._v(" "+e._s(e.$t("views.app.close_btn"))+" ")])]},proxy:!0}]),model:{value:e.showSnackbar,callback:function(t){e.showSnackbar=t},expression:"showSnackbar"}},[e._v(" "+e._s(e.$t("component.reportDialog.success"))+" ")])],1)},xo=[];$o._withStripped=!0;const Ao={};var Lo=Vi({name:"ReportDialog",components:{ChannelSocials:ko},mixins:[So],data:()=>({selectedReason:"Video tagged incorrectly",comments:"",isLoading:!1,showSnackbar:!1,error:!1,readMore:!1}),computed:{reasons(){return[{text:this.$t("component.reportDialog.reasons[0]"),value:"Video tagged incorrectly"},{text:this.$t("component.reportDialog.reasons[1]"),value:"Low Quality/Misleading Content"},{text:this.$t("component.reportDialog.reasons[2]"),value:"Violates the org's derivative work guidelines or inappropriate"},{text:this.$t("component.reportDialog.reasons[3]"),value:"Other"}]},video(){return this.$store.state.reportVideo},isCollab(){return!this.filterVideos(this.video,{hideCollabs:!0})},user(){return this.$store.state.userdata.user},showReportDialog:{get(){return this.$store.state.reportVideo},set(e){e||this.$store.commit("setReportVideo",null)}}},methods:{sendReport(){var e;"Other"!==this.selectedReason||this.comments.length?(this.isLoading=!0,Pi.reportVideo(this.video.id,[{name:"Reason",value:this.selectedReason},{name:"Comments",value:this.comments?this.comments:"No comment"}],null==(e=this.$store.state.userdata)?void 0:e.jwt).then((()=>{this.showReportDialog=!1,this.showSnackbar=!0,this.erorr=!1})).catch((e=>{console.error(e),this.error=!0})).finally((()=>{this.isLoading=!1}))):this.error=!0}}},$o,xo,!1,Mo,null,null,null);function Mo(e){for(let t in Ao)this[t]=Ao[t]}Lo.options.__file="src/components/common/ReportDialog.vue";const Io=function(){return Lo.exports}();function Eo(e){e=Object.assign({scrollable:document.body,threshold:150,onStateChange(){},shouldPullToRefresh:()=>!0},e);const{container:t,scrollable:i,threshold:a,refresh:s,onStateChange:o,animates:n,shouldPullToRefresh:r}=e;let l,c,d;function u(e){t.classList.add("pull-to-refresh--"+e)}function h(e){t.classList.remove("pull-to-refresh--"+e)}function p(){return!i||[window,document,document.body,document.documentElement].includes(i)?document.documentElement.scrollTop||document.body.scrollTop:i.scrollTop}return function({element:e,onpanstart:t,onpanmove:i,onpanend:a}){let s,o,n,r;function l(e){const t=Array.prototype.slice.call(e.changedTouches).filter((e=>e.identifier===s))[0];return!!t&&(e.deltaX=t.screenX-o,e.deltaY=t.screenY-n,!0)}function c(e){const t=e.changedTouches[0];s=t.identifier,o=t.screenX,n=t.screenY}function d(e){l(e)&&(t&&!r&&(t(e),r=!0),i(e))}function u(e){l(e)&&a(e)}return e.addEventListener("touchstart",c),i&&e.addEventListener("touchmove",d),a&&e.addEventListener("touchend",u),function(){e.removeEventListener("touchstart",c),i&&e.removeEventListener("touchmove",d),a&&e.removeEventListener("touchend",u)}}({element:t,onpanmove(t){let i=t.deltaY;p()>0&&"reached"===d&&(h(d),d="pulling",u(d),o(d,e)),!r()||p()>0||i<0&&!d||d in{aborting:1,refreshing:1,restoring:1}||(t.cancelable&&t.preventDefault(),null==l&&(c=i,d="pulling",u(d),o(d,e)),i-=c,i<0&&(i=0),l=i,(i>=a&&"reached"!==d||i<a&&"pulling"!==d)&&(h(d),d="reached"===d?"pulling":"reached",u(d),o(d,e)),n.pulling(i,e))},onpanend(){null!=d&&("pulling"===d?(h(d),d="aborting",o(d),u(d),n.aborting(e).then((()=>{h(d),l=d=c=null,o(d)}))):"reached"===d&&(h(d),d="refreshing",u(d),o(d,e),n.refreshing(e),s().then((()=>{h(d),d="restoring",u(d),o(d),n.restoring(e).then((()=>{h(d),l=d=c=null,o(d)}))}))))}})}const Po={pulling(e,t){t.elControl||(t.elControl=t.container.querySelector(".pull-to-refresh-material__control"));const{threshold:i,elControl:a}=t;let s=e/i;s>1?s=1:s*=s*s;const o=e/2.5;a.style.opacity=s,a.style.transform=o?`translate3d(-50%, ${o}px, 0) rotate(${360*s}deg)`:""},refreshing({elControl:e,threshold:t}){e.style.transition="transform 0.2s",e.style.transform=`translate3d(-50%, ${t/2.5}px, 0)`},aborting:({elControl:e})=>new Promise((t=>{e.style.transform?(e.style.transition="transform 0.3s, opacity 0.15s",e.style.transform="translate3d(-50%, 0, 0)",e.style.opacity=0,e.addEventListener("transitionend",(()=>{e.style.transition="",t()}))):t()})),restoring:({elControl:e})=>new Promise((t=>{e.style.transition="transform 0.3s",e.style.transform+=" scale(0.01)",e.addEventListener("transitionend",(()=>{e.style.transition="",t()}))}))};var To=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pull-to-refresh-material__control",staticStyle:{"z-index":"4"}},[i("svg",{staticClass:"pull-to-refresh-material__icon",attrs:{fill:"#4285f4",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{attrs:{d:e.icons.mdiRefresh}})]),i("svg",{staticClass:"pull-to-refresh-material__spinner",attrs:{width:"24",height:"24",viewBox:"25 25 50 50"}},[i("circle",{staticClass:"pull-to-refresh-material__path",attrs:{cx:"50",cy:"50",r:"20",fill:"none",stroke:"#4285f4","stroke-width":"4","stroke-miterlimit":"10"}})])])},Oo=[];To._withStripped=!0;const Do={};var Vo=Vi({data:()=>({destroyCb:null}),computed:{shouldRefresh(){return["watch_id","watch","mugen-clips","edit_video","multiview"].includes(this.$route.name)}},mounted(){const e=this;this.destroyCb=Eo({container:document.querySelector(".v-main"),animates:Po,shouldPullToRefresh:()=>!window.scrollY&&!e.shouldRefresh&&!e.$store.state.navDrawer,async refresh(){(await e.$store.dispatch("reloadCurrentPage",{source:"ptr",consumed:!1})).consumed||e.$router.go(0),await new Promise((e=>setTimeout(e,300)))}})},beforeDestroy(){this.destroyCb()}},To,Oo,!1,Go,null,null,null);function Go(e){for(let t in Do)this[t]=Do[t]}Vo.options.__file="src/components/common/PullToRefresh.vue";const Fo=function(){return Vo.exports}();let Ro,No=()=>{},jo=()=>{},Bo=()=>{};"serviceWorker"in navigator&&(!function(e={}){const{immediate:t=!1,onNeedRefresh:i,onOfflineReady:a,onRegistered:s,onRegisterError:o}=e;let n,r;if("serviceWorker"in navigator){n=new zt("/Nabidex/sw.js",{scope:"/Nabidex/"}),n.addEventListener("activated",(e=>{e.isUpdate||null==a||a()}));{const e=()=>{null==i||i()};n.addEventListener("waiting",e),n.addEventListener("externalwaiting",e)}n.register({immediate:t}).then((e=>{r=e,null==s||s(e)})).catch((e=>{null==o||o(e)}))}}({immediate:!0,onNeedRefresh:()=>{jo()},onOfflineReady(){},onRegistered(e){Ro=e,e&&setInterval((()=>{e.update()}),36e5)},onRegisterError(e){console.log("Error during service worker registration:",e)}}),navigator.serviceWorker.addEventListener("controllerchange",(()=>{Bo()})),No=()=>{Ro&&Ro.waiting&&Ro.waiting.postMessage({type:"SKIP_WAITING"})});const Ho={name:"PWAUpdate",data:()=>({needRefresh:!1}),computed:{showUpdateDetails:{set(e){this.$store.commit("setShowUpdatesDetail",e)},get(){return this.$store.state.showUpdateDetails}}},created(){jo=()=>{console.log("sw needs refresh"),this.needRefresh=!0},(e=>{Bo=e})((()=>{this.showUpdateDetails=!0,window.location.reload()}))},methods:{updateServiceWorker(){console.log("update service worker"),No()}}};var zo=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.needRefresh?i(pt,{attrs:{bottom:"",right:"",value:e.needRefresh,timeout:-1,color:"primary"},scopedSlots:e._u([{key:"action",fn:function(){return[i(Ve,{staticClass:"ml-auto",attrs:{text:""},on:{click:e.updateServiceWorker}},[e._v(" "+e._s(e.$t("views.app.update_btn"))+" ")]),i(Ve,{staticClass:"ml-auto",attrs:{text:""},on:{click:function(t){e.needRefresh=!1}}},[e._v(" "+e._s(e.$t("views.app.close_btn"))+" ")])]},proxy:!0}],null,!1,4060906944)},[e._v(" "+e._s(e.$t("views.app.update_available"))+" ")]):e.showUpdateDetails?i(pt,{attrs:{bottom:"",center:"",value:e.showUpdateDetails,color:"primary",timeout:-1},scopedSlots:e._u([{key:"action",fn:function(){return[i(Ve,{staticClass:"ml-auto",attrs:{text:"",to:"/about#changelog"},on:{click:function(t){e.showUpdateDetails=!1}}},[e._v(" Changelog ")]),i(Ve,{staticClass:"ml-auto",attrs:{text:""},on:{click:function(t){e.showUpdateDetails=!1}}},[e._v(" "+e._s(e.$t("views.app.close_btn"))+" ")])]},proxy:!0}])},[e._v(" "+e._s(e.$t("views.app.check_about_page"))+" ")]):e._e()},Uo=[];zo._withStripped=!0;const qo={};var Yo=Vi(Ho,zo,Uo,!1,Wo,null,null,null);function Wo(e){for(let t in qo)this[t]=qo[t]}Yo.options.__file="src/components/common/PWAUpdate.vue";const Ko=function(){return Yo.exports}(),Qo={name:"InstallPrompt",data:()=>({deferredPrompt:null,iOSInstallDialog:!1,mdiExportVariant:qt}),computed:{showInstallPrompt:{get(){const e=(new Date).getTime()-this.$store.state.lastShownInstallPrompt>6048e5;return!(!this.isAppleDevice()||this.isStandAlone()||!e)||!(!this.deferredPrompt||!e)},set(e){e||this.$store.commit("installPromptShown")}}},created(){window.addEventListener("beforeinstallprompt",(e=>{e.preventDefault(),this.deferredPrompt=e})),window.addEventListener("appinstalled",(()=>{this.deferredPrompt=null}))},methods:{async install(){if(this.deferredPrompt){this.deferredPrompt.prompt();const{outcome:e}=await this.deferedPrompt.userChoice;console.log(`User response to the install prompt: ${e}`),this.deferredPrompt=null}else this.iOSInstallDialog=!0},hideInstallPrompt(){this.$store.commit("installPromptShown")},isAppleDevice:()=>["iPhone","iPad","iPod"].includes(navigator.platform),isStandAlone:()=>navigator.standalone||window.matchMedia("(display-mode: standalone)").matches}};var Jo=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i(pt,{attrs:{color:"primary",timeout:-1},model:{value:e.showInstallPrompt,callback:function(t){e.showInstallPrompt=t},expression:"showInstallPrompt"}},[i("div",{staticClass:"d-flex align-center"},[i("img",{staticStyle:{height:"40px",width:"40px","border-radius":"6px"},attrs:{src:"https://holodex.net/img/icons/apple-touch-icon-152x152.png"}}),i("div",{staticClass:"ml-2 text-caption my-2"},[e._v(" "+e._s(e.$t("component.installPrompt.callToAction"))+" ")])]),i("div",{staticClass:"d-flex justify-end"},[i(Ve,{staticStyle:{color:"rgba(255, 255, 255, 0.7)"},attrs:{text:"",small:""},on:{click:e.hideInstallPrompt}},[e._v(" "+e._s(e.$t("component.installPrompt.notNowBtn"))+" ")]),i(Ve,{attrs:{small:"",color:"secondary"},on:{click:e.install}},[e._v(" "+e._s(e.$t("component.installPrompt.installBtn"))+" ")])],1)]),i(Re,{attrs:{"max-width":"350"},model:{value:e.iOSInstallDialog,callback:function(t){e.iOSInstallDialog=t},expression:"iOSInstallDialog"}},[i(Ie,{staticClass:"py-4"},[i("div",{staticStyle:{"text-align":"center"}},[i("div",[i("img",{staticStyle:{height:"75px",width:"75px","border-radius":"6px"},attrs:{src:"https://holodex.net/img/icons/apple-touch-icon-152x152.png"}})]),i("div",{staticClass:"text-h5"},[e._v(" "+e._s(e.$t("component.installPrompt.iOS.popup"))+" ")]),i(ze),i("div",{staticClass:"mt-3"},[e._v(" "+e._s(e.$t("component.installPrompt.iOS.beforeExportIcon"))+" "),i(Pe,{attrs:{color:"secondary"}},[e._v(" "+e._s(e.mdiExportVariant)+" ")]),e._v(" "+e._s(e.$t("component.installPrompt.iOS.afterExportIcon"))+" ")],1)],1)])],1)],1)},Xo=[];Jo._withStripped=!0;const Zo={};var en=Vi(Qo,Jo,Xo,!1,tn,null,null,null);function tn(e){for(let t in Zo)this[t]=Zo[t]}en.options.__file="src/components/common/InstallPrompt.vue";const an={name:"App",metaInfo:{title:"Holodex"},components:{NabidexNav:vo,ReportDialog:Io,PullToRefresh:Fo,PWAUpdate:Ko,InstallPrompt:function(){return en.exports}()},data:()=>({needRefresh:!1,favoritesUpdateTask:null}),computed:{viewKey(){const e=this.$route.path;return e.match("^/channel/.{16}")?e.substring(0,33):e},darkMode(){return this.$store.state.settings.darkMode},lang(){return this.$route.query.lang||this.$store.state.settings.lang}},watch:{darkMode(){this.$vuetify.theme.dark=this.darkMode},lang(e){Ca(e)},"$vuetify.breakpoint.name":function(){this.updateIsMobile()},"$store.state.visibilityState":function(){console.log(`App became ${this.$store.state.visibilityState}`),"visible"===this.$store.state.visibilityState&&this.$store.dispatch("favorites/fetchLive",{force:!1,minutes:5})},"$vuetify.theme.themes.dark":function(){this.syncThemeColor()}},async created(){this.$store.commit("setVisiblityState",document.visibilityState),document.addEventListener("visibilitychange",(()=>{this.$store.commit("setVisiblityState",document.visibilityState)})),Ii.interceptors.response.use(void 0,this.interceptError),this.$vuetify.theme.dark=this.darkMode,this.syncThemeColor(),this.$i18n.locale=this.$store.state.settings.lang,this.$vuetify.lang.current=this.$store.state.settings.lang,this.$store.dispatch("loginCheck"),this.favoritesUpdateTask&&clearInterval(this.favoritesUpdateTask),this.favoritesUpdateTask=setInterval((()=>{this.$store.dispatch("favorites/fetchLive",{minutes:5})}),36e4),setTimeout((()=>{this.$store.dispatch("favorites/fetchLive",{force:!1,minutes:2})}),5e3),this.updateIsMobile()},beforeDestroy(){this.favoritesUpdateTask&&clearInterval(this.favoritesUpdateTask)},methods:{updateIsMobile(){this.$store.commit("setIsMobile",["xs","sm"].includes(this.$vuetify.breakpoint.name))},interceptError(e){return e.response?(this.$gtag.exception({description:`${e.response.config.method} ${e.response.config.url}->${e.response.status}`,fatal:!0}),this.$gtag.event(`xhr:${e.response.status}`,{event_category:"xhrError",event_label:`${e.response.config.method} ${e.response.config.url} -> ${e.response.status}`}),console.error(e.response.data),console.error(e.response.status),console.error(e.response.headers)):e.request?(this.$gtag.exception({description:"No Response Received",fatal:!0}),console.error(e.request)):(this.$gtag.exception({description:`Generic: ${e.message}`,fatal:!0}),console.error("Error",e.message)),Promise.reject(e)},syncThemeColor(){const e=this.$vuetify.theme.themes.dark.secondary;window.document.head.querySelector("meta[name=theme-color]").content=e}}};var sn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(Yt,{class:{"bump-bottom":e.$store.state.music.isOpen},style:{background:e.$vuetify.theme.themes[e.darkMode?"dark":"light"].background}},[i("portal-target",{attrs:{name:"music-playback-background"}}),i("NabidexNav"),i(Wt,{staticStyle:{transition:"none"}},[i("PullToRefresh"),i("keep-alive",{attrs:{max:"4",exclude:"Watch,MugenClips,EditVideo,MultiView,Channel,Playlists,About"}},[i("router-view",{key:e.viewKey})],1)],1)],1)},on=[];sn._withStripped=!0;const nn={};var rn=Vi(an,sn,on,!1,ln,null,null,null);function ln(e){for(let t in nn)this[t]=nn[t]}rn.options.__file="src/App.vue";const cn=function(){return rn.exports}(),dn=e=>{window.chrome&&chrome.runtime&&chrome.runtime.sendMessage&&chrome.runtime.sendMessage("jkdnofimdhpbhdjbcdlgnccfjjkidlgp",{message:Ai.TOKEN,token:e})},un={live:[],isLoading:!0,hasError:!1,lastLiveUpdate:0},hn={namespaced:!0,state:r({},un),getters:{},actions:{fetchLive:({state:e,commit:t,rootState:i},{force:a=!1,minutes:s=5})=>"hidden"!==i.visibilityState||a?e.hasError||a||!e.lastLiveUpdate||Date.now()-e.lastLiveUpdate>60*s*1e3?(console.log("[OK] Fetch of Home Live executing"),t("fetchStart"),Pi.live({type:"placeholder,stream",org:i.currentOrg.name}).then((e=>{e.sort(Va),t("setLive",e),t("fetchEnd")})).catch((e=>{console.error(e),t("fetchError")}))):(console.log(`[X] Fetch of Home Live declined: error + not forced + hasn't been ${s} minutes yet.`),null):(console.log("[X] Fetch of Home Live declined: window is hidden and not being forced."),null)},mutations:{fetchStart(e){e.isLoading=!0},fetchEnd(e){e.isLoading=!1},fetchError(e){e.hasError=!0},setLive(e,t){e.live=t,e.lastLiveUpdate=Date.now()},resetState(e){Object.assign(e,un)}}},pn={id:null,channel:{},isLoading:!0,hasError:!1},mn={namespaced:!0,state:r({},pn),getters:{},actions:{fetchChannel:({state:e,commit:t})=>e.id?(t("fetchStart"),Pi.channel(e.id).then((({data:e})=>{t("setChannel",e),t("fetchEnd")})).catch((e=>{console.error(e),t("fetchError")}))):t("fetchError")},mutations:{fetchStart(e){e.isLoading=!0},fetchEnd(e){e.isLoading=!1},fetchError(e){e.hasError=!0,e.isLoading=!1},setId(e,t){e.id=t},setChannel(e,t){e.channel=t},resetState(e){Object.assign(e,pn)}}},vn={isLoading:!0,hasError:!1,currentOffset:0},gn={namespaced:!0,state:r(r({},vn),{category:0,sort:{0:"group",1:"video_count",2:"subscribers"},cardView:{0:!1,1:!1,2:!1}}),getters:{isLoading:e=>e.isLoading,hasError:e=>e.hasError,currentOffset:e=>e.currentOffset},actions:{},mutations:{setCategory(e,t){e.category=t},setSort(e,t){Xe.set(e.sort,e.category,t)},setCardView(e,t){Xe.set(e.cardView,e.category,t)},resetState(e){Object.assign(e,vn)}}},fn={id:null,video:{channel:{},id:null,title:"Loading...",description:""},isLoading:!0,hasError:!1},yn={namespaced:!0,state:r(r({},fn),{showTL:!1,showLiveChat:!0,theaterMode:!1,playlist:{}}),getters:{},actions:{fetchVideo:({state:e,commit:t,rootState:i})=>e.id?(t("fetchStart"),Pi.video(e.id,i.settings.clipLangs.join(","),1).then((({data:e})=>{t("setVideo",e),t("fetchEnd")})).catch((e=>{console.error(e),t("fetchError")}))):t("fetchError")},mutations:l(r({fetchStart(e){e.isLoading=!0},fetchEnd(e){e.isLoading=!1},fetchError(e){e.hasError=!0,e.isLoading=!1},setId(e,t){e.id=t},setVideo(e,t){e.video=t}},Da(["showTL","showLiveChat","theaterMode"])),{resetState(e){Object.assign(e,fn)}})},bn={lang:"en",clipLangs:["en"],darkMode:!0,defaultOpen:"home",redirectMode:!1,autoplayVideo:!1,scrollMode:!0,hideThumbnail:!1,nameProperty:new Set(["en","es","fr","id","pt","de","ru","it"]).has("en")?"english_name":"name",hideCollabStreams:!1,ignoredTopics:[],liveTlStickBottom:!1,liveTlLang:"en",liveTlFontSize:14,liveTlShowVerified:!0,liveTlShowModerator:!0,liveTlShowLocalTime:!1,liveTlWindowSize:0,liveTlBlocked:[],blockedChannels:[],canUseWebP:!0,testedWebP:!1},_n={namespaced:!0,state:r({},bn),getters:{useEnName:e=>"english_name"===e.nameProperty,blockedChannelIDs:e=>new Set(e.blockedChannels.map((e=>e.id))),liveTlBlockedNames:e=>new Set(e.liveTlBlocked),ignoredTopics:e=>new Set(e.ignoredTopics)},actions:{},mutations:l(r({setDarkMode(e,t){e.darkMode=t,localStorage.setItem("darkMode",t?"true":"false")},setRedirectMode(e,t){e.redirectMode=t},setAutoplayVideo(e,t){e.autoplayVideo=t},noWebPSupport(e){e.canUseWebP=!1},testedWebP(e){e.testedWebP=!0},setUseEnName(e,t){e.nameProperty=t?"english_name":"name"},setHideThumbnail(e,t){e.hideThumbnail=t},setLanguage(e,t){e.lang=t},setClipLangs(e,t){e.clipLangs=t},setIgnoredTopics(e,t){e.ignoredTopics=t},setScrollMode(e,t){e.scrollMode=t}},Da(["defaultOpen","liveTlStickBottom","liveTlLang","liveTlFontSize","liveTlShowVerified","liveTlShowModerator","liveTlShowLocalTime","liveTlWindowSize","hideCollabStreams","ignoredTopics"])),{resetState(e){Object.assign(e,bn),localStorage.removeItem("theme"),localStorage.removeItem("darkMode")},toggleBlocked(e,t){e.blockedChannels||Xe.set(e,"blockedChannels",[]),e.blockedChannels.filter((e=>e.id===t.id)).length>0?Xe.delete(e.blockedChannels,e.blockedChannels.findIndex((e=>e.id===t.id))):e.blockedChannels.push(t)},toggleLiveTlBlocked(e,t){e.liveTlBlocked||Xe.set(e,"blockedChannels",[]);const i=e.liveTlBlocked.indexOf(t);-1!==i?Xe.delete(e.liveTlBlocked,i):e.liveTlBlocked.push(t)}})},wn={live:[],isLoading:!0,hasError:!1,stagedFavorites:{},lastLiveUpdate:0},kn={namespaced:!0,state:r(r({},wn),{favorites:[]}),getters:{isFavorited:e=>t=>"add"===e.stagedFavorites[t]||e.favorites.find((e=>e.id===t))&&"remove"!==e.stagedFavorites[t],favoriteChannelIDs:e=>{var t;return new Set((null==(t=null==e?void 0:e.favorites)?void 0:t.map((e=>e.id)))||[])}},actions:{fetchFavorites:({commit:e,rootState:t,state:i,dispatch:a})=>t.userdata&&t.userdata.jwt?Pi.favorites(t.userdata.jwt).then((t=>{Kt(t.data,i.favorites)||e("setFavorites",t.data)})).catch((e=>{console.error(e),a("loginVerify",null,{root:!0})})):null,fetchLive:({state:e,commit:t,rootState:i,dispatch:a},{force:s=!1,minutes:o=2})=>i.userdata&&i.userdata.jwt&&("hidden"!==i.visibilityState||s)?e.hasError||s||!e.lastLiveUpdate||Date.now()-e.lastLiveUpdate>60*o*1e3?(console.log("[OK] Fetch of Fave Live executing"),t("fetchStart"),Pi.favoritesLive({includePlaceholder:!0},i.userdata.jwt).then((e=>{e.sort(Va),t("setLive",e),t("fetchEnd")})).catch((e=>{a("loginCheck",null,{root:!0}),console.error(e),t("fetchError")}))):(console.log(`[X] Fetch of Fave Live declined: error + not forced + hasn't been ${o} minutes yet.`),t("resetErrors"),null):(console.log("[X] Fetch of Fave Live declined: window is hidden and not being forced, and user isn't logged in"),null),updateFavorites:Le((({state:e,commit:t,dispatch:i,rootState:a})=>{const s=Object.keys(e.stagedFavorites).map((t=>({op:e.stagedFavorites[t],channel_id:t})));0!==s.length&&Pi.patchFavorites(a.userdata.jwt,s).catch((e=>{console.error(e),i("loginVerify",null,{root:!0})})).then((e=>{if(200!==e.status)throw new Error("Error while adding favorite");var a;t("setFavorites",e.data),i("fetchLive",{force:!0}),a=e.data,window.chrome&&chrome.runtime&&chrome.runtime.sendMessage&&chrome.runtime.sendMessage("jkdnofimdhpbhdjbcdlgnccfjjkidlgp",{message:Ai.FAVORITES,favorites:a})})).finally((()=>t("clearStagedFavorites")))}),2e3),async resetFavorites({dispatch:e,commit:t,rootState:i}){t("resetState"),i.userdata&&i.userdata.jwt&&(await e("fetchFavorites"),dn(i.userdata.jwt)),i.userdata&&i.userdata.jwt?await e("fetchLive",{force:!0}):(t("setFavorites",[]),dn(null))}},mutations:{fetchStart(e){e.isLoading=!0,e.hasError=!1},fetchEnd(e){e.isLoading=!1,e.hasError=!1},fetchError(e){e.hasError=!0,e.isLoading=!1},setLive(e,t){e.live=t,e.lastLiveUpdate=Date.now()},setFavorites(e,t){e.favorites=t},resetErrors(e){e.hasError=!1,e.isLoading=!1},resetState(e){Object.assign(e,wn)},clearStagedFavorites(e){e.stagedFavorites={}},toggleFavorite(e,t){e.stagedFavorites[t]?Xe.delete(e.stagedFavorites,t):e.favorites.find((e=>e.id===t))?Xe.set(e.stagedFavorites,t,"remove"):Xe.set(e.stagedFavorites,t,"add")}}},Cn={currentId:0,playId:0,lastNextSong:0,playlist:[],state:wi.PAUSED,mode:ki.LOOP,isOpen:!1,addedAnimation:!1},Sn={namespaced:!0,state:r({},Cn),getters:{currentSong:e=>e.playlist&&e.playlist.length>0&&e.currentId<e.playlist.length?{playId:e.playId,sid:e.currentId,song:e.playlist[e.currentId]}:null,canPlay:e=>e.playlist.length>0},actions:{skipToSong({state:e,commit:t},i){t("addSong",i),t("openBar"),t("skipTo",e.playlist.length-1),t("play")}},mutations:{openBar(e){e.isOpen=!0},closeBar(e){e.isOpen=!1},addSong(e,t){Array.isArray(t)?e.playlist.push(...t):e.playlist.push(t),e.currentId>=e.playlist.length&&(e.currentId=e.playlist.length-1),e.isOpen=!0,e.addedAnimation=!0},removeSong(e,t){if(t<e.currentId&&(e.currentId-=1),e.playlist.splice(t,1),0!==e.playlist.length){if(e.currentId===t&&e.currentId===e.playlist.length)switch(e.playId+=1,e.mode){case ki.LOOP:case ki.LOOPONE:return void(e.currentId=0);case ki.NATURAL:return e.currentId=0,void(e.state=wi.PAUSED);case ki.SHUFFLE:return void(e.currentId=Math.floor(Math.random()*e.playlist.length));default:return}e.currentId===t&&(e.playId+=1,e.mode===ki.SHUFFLE&&(e.currentId=Math.floor(Math.random()*e.playlist.length)))}else Object.assign(e,Cn)},resetState(e){Object.assign(e,Cn)},nextSong(e,{isAuto:t=!1,breakLoop:i=!1}){let{mode:a}=e;if(console.log("Received next song request, time since last auto-advance: ",Date.now()-e.lastNextSong),t&&!i&&Date.now()-e.lastNextSong<4e3)console.log("Next song request is ignored, has not been 4s since last auto-advance");else switch(console.log("Next song request is granted, advancing"),i&&a===ki.LOOPONE&&(a=ki.LOOP),e.lastNextSong=Date.now(),a){case ki.NATURAL:case ki.LOOP:return void(e.currentId+1===e.playlist.length?a===ki.LOOP?(e.currentId=0,e.playId+=1):a===ki.NATURAL&&(e.state=wi.PAUSED):(e.currentId+=1,e.playId+=1,e.state=wi.PLAYING));case ki.LOOPONE:return void(e.playId+=1);case ki.SHUFFLE:e.currentId=Math.floor(Math.random()*e.playlist.length),e.playId+=1}},prevSong(e){const{mode:t}=e;switch(t){case ki.NATURAL:case ki.LOOP:case ki.LOOPONE:return void(e.currentId-1<0?(e.currentId=e.playlist.length-1,e.playId+=1):(e.currentId-=1,e.playId+=1,e.state=wi.PLAYING));case ki.SHUFFLE:e.currentId=Math.floor(Math.random()*e.playlist.length),e.playId+=1}},cycleMode(e){switch(e.mode){case ki.NATURAL:e.mode=ki.LOOP;break;case ki.LOOP:e.mode=ki.LOOPONE;break;case ki.LOOPONE:e.mode=ki.SHUFFLE;break;case ki.SHUFFLE:e.mode=ki.NATURAL;break;default:e.mode=ki.NATURAL}},play(e){e.state=wi.PLAYING},pause(e){e.state=wi.PAUSED},skipTo(e,t){e.currentId=t,e.state=wi.PLAYING,e.playId+=1},stopAddedAnimation(e){e.addedAnimation=!1},clearPlaylist(e){e.playlist=[],e.currentId=0,e.state=wi.PAUSED,e.isOpen=!1,e.playId+=1}}};function $n(e,t){for(let s=0,o=e.length;s<o;s++)if(!((i=e[s])===(a=t)||i.x+i.w<=a.x||i.x>=a.x+a.w||i.y+i.h<=a.y||i.y>=a.y+a.h))return e[s];var i,a}function xn(e){const t=[],i={};let a=0;const s=e.split(",");return s.sort(),s.forEach(((e,s)=>{const o=e.substring(0,4),n=e.substring(4,15),l="chat"===n.substring(0,4),c="twitch"===n.substring(0,6),d=e.substring(15),u=["x","y","w","h"],h={w:0,h:0,x:0,y:0,i:s,isDraggable:!0,isResizable:!0,moved:!1};if(o.split("").forEach(((e,t)=>{const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".indexOf(e);h[u[t]]=i})),a+=1,h.i=s,l){const e=5===n.length?Number(n[4]):-1;i[s]=r({type:"chat"},e>=0&&{currentTab:e}),a-=1}else if(c){const t=e.substring(10);i[s]={type:"video",id:t,isTwitch:!0,video:{id:t,type:"twitch",channel:{name:t}}}}else 11===n.length&&(i[s]={type:"video",id:n,video:{id:n,channel:{name:d||n}}});t.push(h)})),{id:e,layout:t,content:i,videoCellCount:a}}const An=Object.freeze([{layout:"AAYY",name:"1🎞️"},{layout:"AAUY,UAEYchat0",name:"Side Chat 1",default:1},{layout:"AAMY,MAMY",name:"2🎞️",default:2},{layout:"AARM,AMRM,RAHYchat",name:"Side Chat 2"},{layout:"AAOM,AMOM,OAFYchat,TAFYchat",name:"2🎞️, 2💬"},{layout:"AAMY,MAMM,MMMM",name:"1🎞️+2",default:3},{layout:"AAMM,AMMM,MAMM,MMGMchat,SMGMchat",name:"3🎞️, 2💬"},{layout:"AAMM,AMMM,MAMM,MMMM",name:"2x2🎞️"},{layout:"AAKM,KAKM,UAEMchat0,AMKM,KMKM,UMEMchat0",name:"2x2🎞️ 2💬",default:4},{layout:"PAJM,AAJM,AMJM,PMJM,JADMchat0,JMDMchat0,MADMchat0,MMDMchat0",name:"2x2🎞️ 4💬"},{layout:"SAGYchat,AAJM,AMJM,JAJM,JMJM",name:"2x2🎞️ 1💬"},{layout:"AAMP,APIJ,IPIJ,MAMP,QPIJ",name:"5🎞️",default:5},{layout:"AAIM,AMIM,IAIM,QMIM,QAIM,MMEMchat0,IMEMchat0",name:"5🎞️ 2💬",default:5},{layout:"AAIM,AMIM,IAIM,IMIM,QAIM,QMIM",name:"2x3🎞️",default:6},{layout:"AAQQ,AQII,IQII,QAII,QIII,QQII",name:"p1s5"},{layout:"AAJM,AMJM,JAJM,JMJM,SAGI,SIGI,SQGI",name:"7🎞️",default:7},{layout:"AAKM,AMKM,RAHI,KAHI,RQHI,KQHI,KIHI,RIHI",name:"8🎞️",default:8},{layout:"AAII,AIII,AQII,IAII,IIII,IQII,QAII,QIII,QQII",name:"3 x 3🎞️",default:9},{layout:"AAGI,GAGI,MAGI,AIGI,GIGI,MIGI,AQGI,GQGI,MQGI,SAGYchat",name:"3x3🎞️ 1💬"},{layout:"AAHI,AQHI,AIHI,HAHI,HIHI,HQHI,OAHI,OIHI,OQHI,VIDIchat0,VADIchat0,VQDIchat0",name:"3x3🎞️ 3💬"},{layout:"AAML,MAML,ALGH,GLGH,MLGH,SLGH,ASGG,GSGG,MSGG,SSGG",name:"Among Us 1",default:10},{layout:"AAKL,KAKL,UAEYchat,ALFH,FLFH,KLFH,PLFH,ASFG,FSFG,KSFG,PSFG",name:"Among Us 2"},{layout:"AASR,SAGYchat,ARGH,GRGH,MRGH",name:"Sports Fes 1"},{layout:"AAMM,SAGYchat,AMGG,ASGG,GMGG,GSGG,MAGG,MGGG,MMGG,MSGG",name:"Sports Fes 2"},{layout:"GAMM,GMMM,AAGG,AGGG,AMGG,ASGG,SAGG,SGGG,SMGG,SSGG",name:"Sports Fes 3"},{layout:"AAIK,IAIK,QAIK,AKGH,GKGH,MKGH,SKGH,SRGH,ARGH,MRGH,GRGH",name:"Amoung Us 3",default:11},{layout:"AAGI,GAGI,MAGI,AIGI,GIGI,MIGI,SIGI,SQGI,AQGI,MQGI,GQGI,SAGI",name:"4x3",default:12},{layout:"AAMM,MMGG,AMGG,GMGG,MGGG,SSGG,MSGG,MAGG,SMGG,SGGG,SAGG,ASGG,GSGG",name:"13🎞️",default:13},{layout:"AMJM,OMFG,OGFG,TGFG,JMFG,AAJM,OAFG,TMFG,JAFG,TSFG,OSFG,JGFG,TAFG,JSFG",name:"14🎞️",default:14},{layout:"AGGG,MMGG,MGGG,SGGG,GMGG,AAGG,MAGG,SMGG,GAGG,SSGG,MSGG,GGGG,SAGG,GSGG,AMGG,ASGG",name:"4x4",default:16}]),Ln=Object.freeze([{layout:"AAYI,AIYQchat0",name:"Mobile 1",emptyCells:1,portrait:!0},{layout:"AOYKchat,AAYH,AHYH",name:"Mobile 2",emptyCells:2,portrait:!0},{layout:"AAYI,AIYI,AQYI",name:"Mobile 3",emptyCells:3,portrait:!0},{layout:"MAMY,AAMM,AMMM",name:"Mobile 3L"},{layout:"AAMM,AMMM,MAMM,MMMM",name:"Mobile 4",emptyCells:4}]);function Mn(){const e=[];return An.forEach((t=>{t.default&&(e[t.default]=t.layout)})),e}const In={layout:[],index:1,layoutContent:{},presetLayout:[]},En=!!(null==navigator?void 0:navigator.platform)&&["iPhone","iPad","iPod"].includes(navigator.platform),Pn={autoLayout:Mn(),ytUrlHistory:[],twUrlHistory:[],muteOthers:En},Tn=r(r({},In),Pn),On=e=>{var t,i;return"video"===e.type&&"twitch"!==e.video.type&&e.video.id===(null==(t=e.video.channel)?void 0:t.name)&&!(null==(i=null==e?void 0:e.video)?void 0:i.noData)},Dn={namespaced:!0,state:Tn,getters:{nonChatCellCount:e=>e.layout.reduce(((t,i)=>{var a;return t+(e.layoutContent[i.i]&&"video"!==(null==(a=e.layoutContent[i.i])?void 0:a.type)?0:1)}),0),activeVideos:e=>e.layout.filter((t=>e.layoutContent[t.i]&&"video"===e.layoutContent[t.i].type)).map((t=>e.layoutContent[t.i].video)),decodedCustomPresets:e=>e.presetLayout.map((e=>r(r({},e),xn(e.layout)))),decodedDesktopPresets:()=>An.map((e=>r(r({},e),xn(e.layout)))),decodedMobilePresets:()=>Ln.map((e=>r(r({},e),xn(e.layout)))),desktopGroups(e,t){const i=[],a=new Set,s=new Set(t.decodedCustomPresets.map((e=>e.id)));return t.decodedCustomPresets.concat(t.decodedDesktopPresets).forEach((e=>{a.has(e.id)||(a.add(e.id),s.has(e.id)&&(e.custom=!0),i[e.videoCellCount]||(i[e.videoCellCount]=[]),i[e.videoCellCount].push(e))})),i}},actions:{async fetchVideoData({state:e,commit:t}){const i=new Set(Object.values(e.layoutContent).filter(On).map((e=>e.video.id)));if(!i.size)return;const{data:a}=await Pi.videos({include:"live_info",id:[...i].join(",")});a.forEach((e=>{i.delete(e.id)}));const s=(await Promise.all([...i].map((e=>{const t=`https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v=${e}`;return be.get(t)})))).map((e=>{const{data:t,config:i}=e,a=t.author_url.match(Si),s=a.length>=2&&a[1];return{id:i.url.replace("https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v=",""),title:t.title,channel:{name:t.author_name,id:s||t.author_name}}}));t("setVideoData",[...a,...s])}},mutations:{setLayout(e,t){e.layout=t},setLayoutContentById(e,t){const{id:i,content:a}=t;Xe.set(e.layoutContent,i,a)},setLayoutContent(e,t){Xe.set(e,"layoutContent",t)},addLayoutItem(e){let t;e.index=(new Date).getTime();let i=!1;for(let a=0;!i&&a<24;a+=1)for(let s=0;!i&&s<21;s+=1){t={x:s,y:a,w:4,h:6,i:e.index,isResizable:!0,isDraggable:!0};$n(e.layout,t)||(i=!0)}t&&i||(t={x:0,y:24,w:4,h:6,i:e.index,isResizable:!0,isDraggable:!0}),e.layout.push(t)},setLayoutContentWithKey(e,{id:t,key:i,value:a}){e.layoutContent[t]&&Xe.set(e.layoutContent[t],i,a)},removeLayoutItem(e,t){const i=e.layout.map((e=>e.i)).indexOf(t);e.layout.splice(i,1),e.layoutContent[t]&&Xe.delete(e.layoutContent,t)},freezeLayoutItem(e,t){const i=e.layout.findIndex((e=>e.i===t));Xe.set(e.layout[i],"isResizable",!1),Xe.set(e.layout[i],"isDraggable",!1)},unfreezeLayoutItem(e,t){const i=e.layout.findIndex((e=>e.i===t));Xe.set(e.layout[i],"isResizable",!0),Xe.set(e.layout[i],"isDraggable",!0)},deleteLayoutContent(e,t){Xe.delete(e.layoutContent,t)},addPresetLayout(e,t){e.presetLayout.push(t)},removePresetLayout(e,t){const i=e.presetLayout.findIndex((e=>e.name===t));e.presetLayout.splice(i,1)},resetState(e){Object.assign(e,JSON.parse(JSON.stringify(In)),{presetLayout:e.presetLayout})},setAutoLayout(e,{index:t,encodedLayout:i}){Xe.set(e.autoLayout,t,i)},resetAutoLayout(e){e.autoLayout=Mn()},addUrlHistory(e,{twitch:t=!1,url:i}){const a=t?e.twUrlHistory:e.ytUrlHistory;a.length>=8&&a.shift(),a.push(i)},setMuteOthers(e,t){e.muteOthers=t,t&&Object.keys(e.layoutContent).filter((t=>{var i;return"video"===(null==(i=e.layoutContent[t])?void 0:i.type)})).forEach(((t,i)=>{Xe.set(e.layoutContent[t],"muted",0!==i)}))},muteOthers:Le(((e,t)=>{e.muteOthers&&Object.keys(e.layoutContent).forEach((i=>{var a;i!==`${t}`?"video"===(null==(a=e.layoutContent[i])?void 0:a.type)&&Xe.set(e.layoutContent[i],"muted",!0):Xe.set(e.layoutContent[i],"muted",!1)}))}),0,{trailing:!0}),setVideoData(e,t){t&&(t.forEach((t=>{Object.values(e.layoutContent).forEach((e=>{var i;(null==(i=e.video)?void 0:i.id)===t.id&&(e.video=t)}))})),Object.values(e.layoutContent).filter(On).forEach((e=>{e.video.noData=!0})))}}},Vn={active:{id:void 0,user_id:void 0,name:"Unnamed Playlist",videos:[],updated_at:void 0},isSaved:!1},Gn={namespaced:!0,state:r({},Vn),getters:{videoIds:e=>new Set(e.active.videos.map((e=>e.id))),contains:(e,t)=>e=>t.videoIds.has(e)},actions:{async saveActivePlaylist({state:e,rootState:t,commit:i}){const a=r({},e.active);if(e.active.user_id&&e.active.id?e.active.user_id!==t.userdata.user.id&&(delete a.id,a.user_id=t.userdata.user.id):a.user_id=t.userdata.user.id,i("setPlaylist",a),e.active.id){(await Pi.savePlaylist(l(r({},e.active),{videos:[],video_ids:a.videos.map((e=>e.id))}),t.userdata.jwt)).data&&i("saved")}else{const s=(await Pi.savePlaylist(l(r({},e.active),{videos:[],video_ids:a.videos.map((e=>e.id))}),t.userdata.jwt)).data;s&&(i("setPlaylist",l(r({},a),{id:s})),i("saved"))}},async setActivePlaylistByID({state:e,commit:t},i){t("setPlaylist",(await Pi.getPlaylist(i)).data),t("saved")},async deleteActivePlaylist({state:e,rootState:t,commit:i}){e.active.id&&t.userdata.jwt&&+e.active.user_id==+t.userdata.user.id&&await Pi.deletePlaylist(e.active.id,t.userdata.jwt),i("resetPlaylist")}},mutations:{saved(e){e.isSaved=!0},modified(e){e.isSaved=!1},setPlaylist(e,t){Xe.set(e,"active",r({videos:[]},t)),e.isSaved=!1},addVideo(e,t){e.active.videos.findIndex((e=>e.id===t.id))>=0||(e.active.videos.unshift(t),e.isSaved=!1)},addVideos(e,t){const i=new Set(e.active.videos.map((e=>e.id)));t.forEach((t=>{i.has(t.id)||(i.add(t.id),e.active.videos.unshift(t),e.isSaved=!1)}))},reorder(e,{from:t,to:i}){Xe.set(e.active,"videos",e.active.videos.reduce(((e,a,s,o)=>(t===i&&e.push(a),s===t||(t<i&&e.push(a),s===i&&e.push(o[t]),t>i&&e.push(a)),e)),[])),e.isSaved=!1},removeVideoByIndex(e,t){Xe.set(e.active,"videos",e.active.videos.filter(((e,i)=>i!==t)))},removeVideoByID(e,t){Xe.set(e.active,"videos",e.active.videos.filter((e=>e.id!==t))),e.isSaved=!1},resetPlaylist(e){Xe.set(e,"active",{id:void 0,user_id:void 0,name:"Unnamed Playlist",videos:[]})},resetState(e){Object.assign(e,Vn)}}},Fn=Qt("watch-history"),Rn={lastCheck:Date.now()},Nn={namespaced:!0,state:r({},Rn),getters:{hasWatched:e=>e.lastCheck&&(async e=>new Promise(((t,i)=>Fn.get(e,((e,a)=>{e&&t(0),a&&t(a),i(new Error("weird"))})))))},actions:{addWatchedVideo({commit:e},t){Fn.put(t.id,1,((t,i)=>{i&&e("update")}))},resetWatchHistory({commit:e}){Fn.clear(((t,i)=>{i&&e("update")}))}},mutations:{update(e){e.lastCheck=Date.now()},resetState(e){Object.assign(e,Rn)}}},jn={namespaced:!0,state:r({},{orgs:[]}),getters:{},actions:{async fetchOrgs({commit:e}){e("setOrgs",[{name:"All Vtubers",short:"Vtuber",name_jp:null},...(await Pi.orgs()).sort(((e,t)=>e.name.toLowerCase().charCodeAt(0)-t.name.toLowerCase().charCodeAt(0)))])}},mutations:{setOrgs(e,t){e.orgs=t}}},Bn=[{version:2,up:e=>{const t=e.settings.defaultOpen||(e.settings.defaultOpenFavorites?"favorites":"home");return l(r({},e),{settings:l(r({},e.settings),{defaultOpen:t,autoplayVideo:!1})})}},{version:4,up:e=>{const t=e.orgFavorites.filter((e=>"Virtual Witch Phenomenon"!==e&&"Hanayori Joshiryo"!==e));return l(r({},e),{orgFavorites:t})}},{version:5,up:e=>{try{const i=e.playlist&&e.playlist.active&&e.playlist.active.videos||[];for(const t in e.library.savedVideos)11===t.length&&i.push(e.library.savedVideos[t]);try{const t=Qt("watch-history");for(const i in e.library.watchedVideos)11===i.length&&t.put(i,1,((e,t)=>{console.log(e,t)}))}catch(t){console.error(t)}return l(r({},e),{playlist:l(r({},e.playlist&&e.playlist),{active:l(r({},e.playlist&&e.playlist.active),{videos:i})})})}catch(t){console.error(t)}return e}},{version:6,up:e=>{const t={name:e.currentOrg,short:Ci[e.currentOrg]?Ci[e.currentOrg]:null},i=e.orgFavorites.map((e=>({name:e,short:Ci[e]?Ci[e]:null})));return l(r({},e),{currentOrg:t,orgFavorites:i})}},{version:7,up:e=>e.currentOrg.name.includes('short"')?l(r({},e),{currentOrg:{name:"Hololive",short:"Holo"},orgFavorites:[{name:"All Vtubers",short:"Vtuber"},{name:"Hololive",short:"Holo"},{name:"Nijisanji",short:"Niji"},{name:"Independents",short:"Indie"}]}):e},{version:8,up:e=>{const{layoutContent:t,presetLayout:i}=e.multiview;return Object.keys(t).some((e=>t[e].content))?l(r({},e),{multiview:{presetLayout:i}}):e}},{version:9,up:e=>e}];Xe.use(Jt);const Hn=/^(?:playlist|settings|history)/,zn=new Set(["resetState","setUser","setShowUpdatesDetail","firstVisit","firstVisitMugen","favorites/setFavorites","favorites/resetFavorites","favorites/setLive","music/addSong","music/removeSong","music/resetState","music/clearPlaylist","multiview/addPresetLayout","multiview/removePresetLayout","multiview/togglePresetAutoLayout","multiview/setAutoLayout"]),Un=new Jt.Store({plugins:[Xt({key:"holodex-v2",paths:["orgs","playlist","settings","history","migration","multiview","channels.cardView","channels.sort","currentOrg","favorites.favorites","lastShownInstallPrompt","firstVisit","firstVisitMugen","music.playlist","music.currentId","music.mode","orgFavorites","showUpdateDetails","userdata","watch.showLiveChat","watch.showTL","watch.theaterMode","currentGridSize"],getState:Zt(Bn,"migration.version"),setState:Le(((e,t,i)=>{i.setItem(e,JSON.stringify(t))}))}),ei({predicate:e=>e.type.match(Hn)||zn.has(e.type)})],state:{firstVisit:!0,showUpdateDetails:!1,firstVisitMugen:!0,lastShownInstallPrompt:0,userdata:{user:null,jwt:null},isMobile:!0,currentGridSize:0,currentOrg:{name:"Hololive",short:"Holo"},orgFavorites:[{name:"All Vtubers",short:"Vtuber"},{name:"Hololive",short:"Holo"},{name:"Nijisanji",short:"Niji"},{name:"Independents",short:"Indie"}],migration:{version:9},activeSockets:0,showExtension:!1,navDrawer:!1,videoCardMenu:null,showVideoCardMenu:!1,reportVideo:null,visibilityState:null},getters:{isLoggedIn(e){var t;return null==(t=e.userdata)?void 0:t.jwt},gridIcon(e){switch(e.currentGridSize){case 1:return Xe.icons.mdiGrid;case 2:return Xe.icons.mdiSquareOutline;default:return Xe.icons.mdiGridLarge}},isSuperuser(e){var t,i;const a=null==(i=null==(t=e.userdata)?void 0:t.user)?void 0:i.role;return"admin"===a||"editor"===a}},mutations:{setShowUpdatesDetail(e,t){e.showUpdateDetails=t},resetState(e){Object.assign(e,{firstVisit:!0,showUpdateDetails:!1,firstVisitMugen:!0,lastShownInstallPrompt:0,userdata:{user:null,jwt:null},isMobile:!0,currentGridSize:0,currentOrg:{name:"Hololive",short:"Holo"},orgFavorites:[{name:"All Vtubers",short:"Vtuber"},{name:"Hololive",short:"Holo"},{name:"Nijisanji",short:"Niji"},{name:"Independents",short:"Indie"}],migration:{version:9},activeSockets:0,showExtension:!1,navDrawer:!1,videoCardMenu:null,showVideoCardMenu:!1,reportVideo:null,visibilityState:null})},setCurrentOrg(e,t){e.currentOrg=t,e.home.lastLiveUpdate=0},setIsMobile(e,t){e.isMobile=t},setNavDrawer(e,t){e.navDrawer=t},setReportVideo(e,t){e.reportVideo=t},setUser(e,{user:t,jwt:i}){Xe.set(e.userdata,"user",t),e.userdata.jwt=i},setVisited(e){e.firstVisit=!1},setVisitedMugen(e){e.firstVisitMugen=!1},setCurrentGridSize(e,t){e.currentGridSize=t},installPromptShown(e){e.lastShownInstallPrompt=(new Date).getTime()},incrementActiveSockets(e){e.activeSockets+=1},decrementActiveSockets(e){e.activeSockets-=1},setTPCookieEnabled(e,t){e.TPCookieEnabled=t},setShowExtension(e,t){e.showExtension=t},setVideoCardMenu(e,t){e.videoCardMenu=t},setShowVideoCardMenu(e,t){e.showVideoCardMenu=t},toggleFavoriteOrg(e,t){const i=e.orgFavorites.findIndex((e=>e.name===t.name));i>=0?e.orgFavorites.splice(i,1):e.orgFavorites.push(t)},shiftOrgFavorites(e,{org:t,up:i=!0}){const a=e.orgFavorites.findIndex((e=>e.name===t.name));if(i&&0===a)return;if(!i&&a===e.orgFavorites.length-1)return;const s=i?a-1:a+1,o=e.orgFavorites[s];e.orgFavorites.splice(s,1,t),e.orgFavorites.splice(a,1,o)},setVisiblityState(e,t){e.visibilityState=t}},actions:{checkActiveSockets({state:e}){const t=this;setTimeout((()=>{0===e.activeSockets&&t._vm.$socket.client.disconnect()}),1e4)},async navigate({commit:e},{from:t}){t?e("historyPush",{from:t}):e("historyPop")},async logout({dispatch:e,commit:t}){t("setUser",{user:null,jwt:null}),e("favorites/resetFavorites")},async loginCheck({state:e,dispatch:t}){if(e.userdata.jwt){const{exp:i}=ti(e.userdata.jwt),a=i-Date.now()/1e3;console.log(`Login token expiring in ${a} s`),a<0?await t("logout"):dn(e.userdata.jwt)}},async loginVerify({state:e,dispatch:t}){if(t("loginCheck"),e.userdata&&e.userdata.jwt){await Pi.loginIsValid(e.userdata.jwt)?console.log("Login credentials validated, OK"):await t("logout")}},reloadCurrentPage:async({commit:e},t)=>t},modules:{home:hn,channel:mn,channels:gn,watch:yn,settings:_n,favorites:kn,music:Sn,multiview:Dn,playlist:Gn,history:Nn,orgs:jn}}),qn={data:()=>({unsubscribe:null,isActive:!0,lastFetch:0}),activated(){this.isActive=!0},deactivated(){this.isActive=!1},mounted(){this.unsubscribe=this.$store.subscribeAction((e=>{if(this.isActive&&"reloadCurrentPage"===e.type){if(e.payload.consumed=!0,!this.lastFetch&&!this.$store.state.isMobile)return void(this.lastFetch=+new Date);if(+new Date-this.lastFetch<3e4&&"scrollBehavior"===e.payload.source)return;this.reload(),this.lastFetch=+new Date}}),{prepend:!0})},beforeDestroy(){this.unsubscribe()},methods:{reload(){}}},Yn={data:()=>({isActive:!0}),activated(){this.isActive=!0},deactivated(){this.isActive=!1}},Wn={name:"GenericListLoader",components:{InfiniteLoad:()=>vi((()=>import("./InfiniteLoad.ab757a52.js")),["assets/InfiniteLoad.ab757a52.js","assets/InfiniteLoad.af1880bf.css","assets/vendor.f7b02bb7.js","assets/vendor.06e82a89.css"]),PaginateLoad:()=>vi((()=>import("./PaginateLoad.f44a4db6.js")),["assets/PaginateLoad.f44a4db6.js","assets/InfiniteLoad.af1880bf.css","assets/vendor.f7b02bb7.js","assets/vendor.06e82a89.css"])},props:{infiniteLoad:{required:!1,type:Boolean,default:!1},paginate:{required:!1,type:Boolean,default:!1},pageless:{type:Boolean,default:!1},endIfPartialPage:{type:Boolean,default:!1,required:!1},loadFn:{type:Function,default:()=>!1,required:!0},perPage:{type:Number,default:24,required:!1}},data:()=>({randomId:Date.now(),data:[],total:null,identifier:Date.now(),isLoading:!0}),computed:{pages(){return this.total?Math.ceil(this.total/this.perPage):1}},methods:{async emitLoad(e){const{page:t}=e;this.isLoading=!0;const i=await this.loadFn((t-1)*this.perPage,this.perPage).catch((t=>(e.error(),console.error(t),null)));if(!i)return;let a,s;Array.isArray(i)?(a=i,this.total=null,s=(t-1)*this.perPage):(this.total=i.total,s=i.offset||(t-1)*this.perPage,a=Object.values(i).find((e=>Array.isArray(e)))),this.isLoading=!1,this.infiniteLoad?(this.data=this.data.concat(a),a.length<this.perPage&&this.endIfPartialPage||0===a.length?e.completed():e.loaded()):this.paginate&&(this.data=a,this.pageless||null===this.total?a.length<this.perPage&&this.endIfPartialPage||0===a.length?e.completed():e.loaded():(s||(t-1)*this.perPage)+this.perPage>=this.total?e.completed():e.loaded())}}};var Kn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{attrs:{id:"tjump"+e.randomId}}),e._t("default",null,{data:e.data,isLoading:e.isLoading}),e.infiniteLoad?i("InfiniteLoad",{attrs:{identifier:e.identifier},on:{infinite:e.emitLoad}}):e._e(),e.paginate?i("PaginateLoad",{attrs:{identifier:e.identifier,pages:e.pages,"page-less":e.pageless||null===e.total,"scroll-element-id":"tjump"+e.randomId},on:{paginate:e.emitLoad}}):e._e()],2)},Qn=[];Kn._withStripped=!0;const Jn={};var Xn=Vi(Wn,Kn,Qn,!1,Zn,null,null,null);function Zn(e){for(let t in Jn)this[t]=Jn[t]}Xn.options.__file="src/components/video/GenericListLoader.vue";const er=function(){return Xn.exports}(),tr={name:"SkeletonCardList",props:{horizontal:{required:!1,type:Boolean},cols:{type:Object,default:()=>({xs:1,sm:3,md:4,lg:6,xl:8})},limitRows:{required:!1,type:Number,default:0},dense:{type:Boolean,default:!1},useSkeleton:{type:Boolean,default:!1},expectedSize:{type:[Number,String],default:24}},data:()=>({expanded:!1,randomId:Date.now()}),computed:{processedVideos(){const e=new Date,t=this.limitRows?this.limitRows*this.colSize:this.expectedSize;return[...new Array(t)].map(((t,i)=>({id:+e+i})))},colSize(){return this.horizontal?1:this.cols[this.$vuetify.breakpoint.name]}},methods:{handleVideoClick(e){this.$emit("videoClicked",e)}}};var ir=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(ht,{staticClass:"py-0",staticStyle:{position:"relative"},attrs:{fluid:""}},[i(mt,{attrs:{dense:e.dense}},e._l(e.processedVideos,(function(t,a){return i(vt,{key:a+"-"+t.id,class:["video-col","video-"+e.colSize]},[i("div",{staticStyle:{position:"relative",width:"100%","padding-bottom":"calc(56.25% + 88px)"}},[i(ii,{staticStyle:{position:"absolute",width:"100%",height:"100%"},attrs:{type:"image, list-item-avatar-three-line",boilerplate:""}})],1)])})),1)],1)},ar=[];ir._withStripped=!0;const sr={};var or=Vi(tr,ir,ar,!1,nr,"18150e02",null,null);function nr(e){for(let t in sr)this[t]=sr[t]}or.options.__file="src/components/video/SkeletonCardList.vue";const rr=function(){return or.exports}(),lr={name:"VideoCardList",components:{VideoCard:is,Comment:()=>vi((()=>import("./Comment.856d50b2.js")),["assets/Comment.856d50b2.js","assets/Comment.b796dfe2.css","assets/TruncatedText.1db39923.js","assets/TruncatedText.0408fe31.css","assets/vendor.f7b02bb7.js","assets/vendor.06e82a89.css"])},mixins:[So],props:{videos:{required:!0,type:Array},includeChannel:{required:!1,type:Boolean},includeAvatar:{required:!1,type:Boolean},hideThumbnail:{required:!1,type:Boolean,default:!1},horizontal:{required:!1,type:Boolean},cols:{type:Object,default:()=>({xs:1,sm:3,md:4,lg:6,xl:8})},limitRows:{required:!1,type:Number,default:0},activeId:{required:!1,type:String,default:""},dense:{type:Boolean,default:!1},disableDefaultClick:{type:Boolean,default:!1},hideCollabs:{type:Boolean,default:!1},hideIgnoredTopics:{type:Boolean,default:!1},forOrg:{type:String,default:""},ignoreBlock:{type:Boolean,default:!1},showComments:{type:Boolean}},data:()=>r({expanded:!1},{mdiChevronUp:Q,mdiChevronDown:K}),computed:{hasExpansion(){return this.limitRows>0&&this.videos.length>this.limitRows*this.colSize},processedVideos(){const e={ignoreBlock:this.ignoreBlock,hideCollabs:this.hideCollabs,hideIgnoredTopics:this.hideIgnoredTopics,forOrg:this.forOrg};return this.limitRows<=0||this.expanded?this.videos.filter((t=>this.filterVideos(t,e))):this.videos.slice(0).splice(0,this.limitRows*this.colSize).filter((t=>this.filterVideos(t,e)))},colSize(){return this.horizontal?1:this.cols[this.$vuetify.breakpoint.name]},isMobile(){return this.$store.state.isMobile},shouldHideThumbnail(){return this.$store.state.settings.hideThumbnail||this.hideThumbnail}},watch:{expanded(){this.expanded||this.$nextTick((()=>{this.$refs.expandBtn.$el.scrollIntoView({block:"center"})}))}},methods:{handleVideoClick(e){this.$emit("videoClicked",e)}}};var cr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(ht,{staticClass:"py-0",staticStyle:{position:"relative"},attrs:{fluid:""}},[i("div",{staticClass:"row video-row",class:{"row--dense":e.dense}},e._l(e.processedVideos,(function(t,a){return i("div",{key:a+"-"+t.id,class:["video-col","video-"+e.colSize,"flex-column","col"]},[i("VideoCard",{attrs:{video:t,fluid:"","include-channel":e.includeChannel,horizontal:e.horizontal,"include-avatar":e.includeAvatar,"col-size":e.colSize,active:t.id===e.activeId,"disable-default-click":e.disableDefaultClick,"hide-thumbnail":e.shouldHideThumbnail},on:{videoClicked:e.handleVideoClick},scopedSlots:e._u([{key:"action",fn:function(){return[e._t("action",null,{video:t})]},proxy:!0}],null,!0)}),e.showComments&&t.comments?i(He,{staticClass:"pa-0 transparent overflow-y-auto caption overflow-x-hidden",staticStyle:{"max-height":"400px"},attrs:{dense:""}},[i(ze,{staticClass:"mx-4",staticStyle:{"flex-basis":"100%",height:"0"}}),e._l(t.comments,(function(e){return i(Ee,{key:e.comment_key,staticClass:"pa-0"},[i("comment",{attrs:{comment:e,"video-id":t.id}})],1)}))],2):e._e()],1)})),0),e.hasExpansion?i("div",{staticClass:"text-center",staticStyle:{width:"100%"}},[e.hasExpansion?i(Ve,{ref:"expandBtn",attrs:{text:!e.isMobile,color:"primary"},on:{click:function(t){e.expanded=!e.expanded}}},[e._v(" "+e._s(e.expanded?e.$t("component.description.showLess"):e.$t("component.description.showMore"))+" "),i(Pe,[e._v(" "+e._s(e.expanded?e.mdiChevronUp:e.mdiChevronDown)+" ")])],1):e._e()],1):e._e()])},dr=[];cr._withStripped=!0;const ur={};var hr=Vi(lr,cr,dr,!1,pr,null,null,null);function pr(e){for(let t in ur)this[t]=ur[t]}hr.options.__file="src/components/video/VideoCardList.vue";const mr=function(){return hr.exports}(),vr={name:"ApiErrorMessage"};var gr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(mt,[i(vt,{staticClass:"ma-auto text-center pa-8"},[i("div",{staticClass:"text-h4"},[e._v(" "+e._s(e.$t("component.apiError.title"))+" ")]),i("div",{staticClass:"text-body-1"},[e._v(" "+e._s(e.$t("component.apiError.textBeforeTwitter"))+" ("),i("a",{attrs:{href:"https://twitter.com/holodex",rel:"noopener noreferrer"}},[e._v(" @holodex ")]),e._v(") "+e._s(e.$t("component.apiError.textAfterTwitter"))+" "),i("router-link",{attrs:{to:"/about"}},[e._v(" "+e._s(e.$t("component.apiError.aboutPage"))+" ")]),e._v(" "+e._s(e.$t("component.apiError.afterAboutPageHyperlink"))+" "),i("br"),i(Ve,{on:{click:function(t){return e.$store.dispatch("logout")}}},[e._v(" "+e._s(e.$t("component.mainNav.logout"))+" ")])],1)])],1)},fr=[];gr._withStripped=!0;const yr={};var br=Vi(vr,gr,fr,!1,_r,null,null,null);function _r(e){for(let t in yr)this[t]=yr[t]}br.options.__file="src/components/common/ApiErrorMessage.vue";const wr={name:"LoadingOverlay",components:{ApiErrorMessage:function(){return br.exports}(),NotFound:()=>vi((()=>import("./NotFound.93d5df37.js")),["assets/NotFound.93d5df37.js","assets/InfiniteLoad.af1880bf.css","assets/vendor.f7b02bb7.js","assets/vendor.06e82a89.css"])},props:{isLoading:{type:Boolean,default:!0},showError:{type:Boolean,default:!1},showNotFound:{type:Boolean,default:!1}}};var kr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isLoading||e.showError?i(mt,[i(vt,{staticClass:"d-flex align-center justify-center flex-column"},[e.isLoading&&!e.showError?i(at,{staticClass:"ma-auto",attrs:{indeterminate:"",size:"82",color:"primary"}}):e._e(),e.showError?i("ApiErrorMessage"):e._e(),e.showNotFound?i("NotFound"):e._e()],1)],1):e._e()},Cr=[];kr._withStripped=!0;const Sr={};var $r=Vi(wr,kr,Cr,!1,xr,null,null,null);function xr(e){for(let t in Sr)this[t]=Sr[t]}$r.options.__file="src/components/common/LoadingOverlay.vue";const Ar=function(){return $r.exports}();function Lr(e){return e.add(1,"day").toDate().toISOString()}const Mr={name:"HomeFave",metaInfo(){const e=this;return{get title(){return e.isFavPage?`${e.$t("component.mainNav.favorites")} - Holodex`:"Holodex"}}},components:{VideoCardList:mr,LoadingOverlay:Ar,GenericListLoader:er,SkeletonCardList:rr},mixins:[qn,Yn],props:{isFavPage:{type:Boolean,default:!1}},data:()=>({identifier:Date.now(),pageLength:24,tab:0,Tabs:Object.freeze({LIVE_UPCOMING:0,ARCHIVE:1,CLIPS:2}),refreshTimer:null,datePicker:!1,toDate:null,mdiCalendarEnd:ai}),computed:l(r(r(r({},Ye("home",{h_live:"live",h_isLoading:"isLoading",h_hasError:"hasError"})),Ye("favorites",{f_live:"live",f_isLoading:"isLoading",f_hasError:"hasError"})),si("favorites",["favoriteChannelIDs"])),{isLoggedIn(){return this.$store.getters.isLoggedIn},live(){return this.isFavPage?this.f_live:this.h_live},isLoading(){return this.isFavPage?this.f_isLoading:this.h_isLoading},hasError(){return this.isFavPage?this.f_hasError:this.h_hasError},scrollMode(){return this.$store.state.settings.scrollMode},currentGridSize:{get(){return this.$store.state.currentGridSize},set(e){this.$store.commit("setCurrentGridSize",e)}},colSizes(){return{xs:1+this.currentGridSize,sm:2+this.currentGridSize,md:3+this.currentGridSize,lg:4+this.currentGridSize,xl:5+this.currentGridSize}},shouldIncludeAvatar(){return!(this.$vuetify.breakpoint.md&&this.currentGridSize>1)&&(!(this.$vuetify.breakpoint.sm&&this.currentGridSize>0)&&!(this.$vuetify.breakpoint.xs&&this.currentGridSize>0))},shouldHideCollabs(){return this.tab!==this.Tabs.CLIPS&&this.$store.state.settings.hideCollabStreams&&(!!this.isFavPage||"All Vtubers"!==this.$store.state.currentOrg.name)},lives(){return this.live.filter((e=>"live"===e.status))},upcoming(){return this.live.filter((e=>"upcoming"===e.status))},liveUpcomingHeaderSplit(){return this.$t("views.home.liveOrUpcomingHeading").match(/(.+)([\\/／・].+)/)}}),watch:{favoriteChannelIDs:{deep:!0,handler(){this.isFavPage&&this.init(!1)}},"$store.state.currentOrg":function(){this.init()},"$store.state.visibilityState":function(){console.log("visibility state changed (in HomeFave)"),this.isActive&&"visible"===this.$store.state.visibilityState&&(console.log("attempting refetching (if cadence allows)"),this.isFavPage?this.$store.dispatch("favorites/fetchLive",{force:!1}):this.$store.dispatch("home/fetchLive",{force:!1}))},tab(){this.$nextTick((()=>{window.scrollTo(0,0)})),this.changeTab()},toDate(){this.identifier=Date.now()}},created(){console.log("Created, so adding refresh timer to HomeFav"),this.init(!0),this.setAutoRefresh()},activated(){console.log("Activated, so adding refresh timer to HomeFav"),this.changeTab(!0),this.setAutoRefresh()},deactivated(){this.refreshTimer&&(console.log("Navigating away, so deleting the refresh timer in HomeFav"),clearInterval(this.refreshTimer),this.refreshTimer=null)},beforeDestroy(){console.log("Destroying, so deleting the refresh timer in HomeFav"),this.refreshTimer&&(clearInterval(this.refreshTimer),this.refreshTimer=null)},methods:{setAutoRefresh(){this.refreshTimer&&clearInterval(this.refreshTimer),this.refreshTimer=setInterval((()=>{this.isFavPage?this.$store.dispatch("favorites/fetchLive",{force:!1}):this.$store.dispatch("home/fetchLive",{force:!1})}),12e4)},changeTab(e=!0){this.$router.replace({query:e&&r({},this.$route.query),hash:{0:"",1:"archive",2:"clips"}[this.tab]||""}).catch((()=>{}))},init(e){switch(this.isFavPage?(e&&this.$store.dispatch("favorites/fetchFavorites"),this.favoriteChannelIDs.size>0&&this.isLoggedIn&&this.$store.dispatch("favorites/fetchLive",{force:!0,minutes:2})):(this.$store.commit("home/resetState"),this.$store.dispatch("home/fetchLive",{force:!0})),this.identifier=Date.now(),this.$route.hash){case"#archive":this.tab=this.Tabs.ARCHIVE;break;case"#clips":this.tab=this.Tabs.CLIPS;break;default:this.tab=this.Tabs.LIVE_UPCOMING}},reload(){this.init()},getLoadFn(){return this.isFavPage?async(e,t)=>{var i;return(await Pi.favoritesVideos(this.$store.state.userdata.jwt,l(r({status:this.tab===this.Tabs.ARCHIVE?"past,missing":"past"},{type:this.tab===this.Tabs.ARCHIVE?"stream":"clip"}),{include:"clips",lang:this.$store.state.settings.clipLangs.join(","),paginated:!this.scrollMode,to:Lr(he(null!=(i=this.toDate)?i:void 0)),limit:t,offset:e})).catch((e=>{throw console.error(e),this.$store.dispatch("loginVerify"),e}))).data}:async(e,t)=>{var i;return(await Pi.videos(l(r({status:this.tab===this.Tabs.ARCHIVE?"past,missing":"past"},{type:this.tab===this.Tabs.ARCHIVE?"stream":"clip"}),{include:"clips",org:this.$store.state.currentOrg.name,lang:this.$store.state.settings.clipLangs.join(","),paginated:!this.scrollMode,to:Lr(he(null!=(i=this.toDate)?i:void 0)),limit:t,offset:e}))).data}}}};var Ir=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(ht,{directives:[{name:"touch",rawName:"v-touch",value:{right:function(t){t.offsetX<50||(e.tab=Math.max(e.tab-1,0),e.changeTab(!1))},left:function(t){t.offsetX>-50||(e.tab=Math.min(e.tab+1,2),e.changeTab(!1))}},expression:"{\n    right: (e) => {\n      if(e.offsetX < 50) return;\n      tab = Math.max(tab - 1, 0);\n      changeTab(false);\n    },\n    left: (e) => {\n      if(e.offsetX > -50) return;\n      tab = Math.min(tab + 1, 2);\n      changeTab(false);\n    },\n  }"}],staticClass:"d-flex flex-column",staticStyle:{"min-height":"100%"},attrs:{fluid:""}},[i("portal",{attrs:{to:"mainNavExt",disabled:!e.$vuetify.breakpoint.xs||!e.isActive}},[i(oi,{class:e.$store.state.settings.darkMode?"secondary darken-1":"primary lighten-1",attrs:{centered:e.$vuetify.breakpoint.xs,"active-class":e.$store.state.settings.darkMode?"primary--text text--lighten-3":"primary--text text--darken-2"},on:{change:function(t){return e.changeTab(!1)}},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[i(ni,{staticClass:"pa-2"},[e._v(" "+e._s(e.liveUpcomingHeaderSplit[1])+" "),i("span",{staticClass:"stream-count-chip mx-1 rounded-md primary white--text rounded-lg pa-1"},[e._v(" "+e._s(e.lives.length)+" ")]),e._v(" "+e._s(e.liveUpcomingHeaderSplit[2])+" "),i("span",{staticClass:"stream-count-chip ml-1 rounded-md primary white--text rounded-lg pa-1"},[e._v(" "+e._s(e.upcoming.length)+" ")])]),i(ni,{staticClass:"pa-2"},[e._v(" "+e._s(e.$t("views.home.recentVideoToggles.official"))+" ")]),i(ni,{staticClass:"pa-2"},[e._v(" "+e._s(e.$t("views.home.recentVideoToggles.subber"))+" ")]),e.$vuetify.breakpoint.xs?e._e():i("portal-target",{staticClass:" v-tab ml-auto",attrs:{name:"date-selector"+e.isFavPage}})],1)],1),!e.isFavPage||e.isLoggedIn&&e.favoriteChannelIDs.size>0?e._e():[i("div",{staticClass:"ma-auto d-flex flex-column align-center"},[i(Pe,{attrs:{color:"primary",large:""}},[e._v(" "+e._s(e.icons.mdiHeart)+" ")]),i("div",{staticClass:"text-body-1 text-center",domProps:{innerHTML:e._s(e.$t("views.favorites.promptForAction"))}}),i(Ve,{attrs:{to:e.isLoggedIn?"/channel":"/login"}},[e._v(" "+e._s(e.isLoggedIn?e.$t("views.favorites.manageFavorites"):e.$t("component.mainNav.login"))+" ")])],1)],i("LoadingOverlay",{attrs:{"is-loading":!1,"show-error":e.hasError}}),i("div",{directives:[{name:"show",rawName:"v-show",value:!(e.hasError||e.isFavPage&&!(e.isLoggedIn&&e.favoriteChannelIDs.size>0)),expression:"!hasError && !(isFavPage && !(isLoggedIn && favoriteChannelIDs.size > 0))"}]},[e.tab===e.Tabs.LIVE_UPCOMING?[e.isLoading?i("SkeletonCardList",{attrs:{cols:e.colSizes,dense:e.currentGridSize>0}}):e._e(),e.lives.length||e.upcoming.length?i("div",[i("VideoCardList",{attrs:{videos:e.lives,"include-channel":"","include-avatar":e.shouldIncludeAvatar,cols:e.colSizes,dense:e.currentGridSize>0,"hide-ignored-topics":"","for-org":e.isFavPage?"none":null,"hide-collabs":e.shouldHideCollabs}}),e.lives.length?i(ze,{staticClass:"my-3 secondary"}):e._e(),i("VideoCardList",{attrs:{videos:e.upcoming,"include-channel":"","include-avatar":e.shouldIncludeAvatar,cols:e.colSizes,dense:e.currentGridSize>0,"hide-ignored-topics":"","for-org":e.isFavPage?"none":null,"hide-collabs":e.shouldHideCollabs}})],1):e._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading&&0==e.lives.length&&0==e.upcoming.length,expression:"!isLoading && lives.length == 0 && upcoming.length == 0"}],staticClass:"ma-auto pa-5 text-center"},[e._v(" "+e._s(e.$t("views.home.noStreams"))+" ")])]:[i(vt,{directives:[{name:"show",rawName:"v-show",value:!e.$vuetify.breakpoint.isXs,expression:"!$vuetify.breakpoint.isXs"}],staticClass:"ma-0 pb-0 pt-0",staticStyle:{display:"flex","justify-content":"flex-end"},attrs:{xs:"4",sm:"4"}},[i("portal",{attrs:{to:"date-selector"+e.isFavPage,disabled:e.$vuetify.breakpoint.xs}},[i(Ge,{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}],attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"",left:"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,s=t.attrs;return[i(Be,e._g(e._b({staticStyle:{opacity:"0.7","max-width":"170px"},attrs:{label:"Up to","prepend-icon":e.mdiCalendarEnd,readonly:"","hide-details":"",dense:"",regular:"",clearable:"","single-line":""},model:{value:e.toDate,callback:function(t){e.toDate=t},expression:"toDate"}},"v-text-field",s,!1),a))]}}]),model:{value:e.datePicker,callback:function(t){e.datePicker=t},expression:"datePicker"}},[i(ri,{on:{input:function(t){e.datePicker=!1}},model:{value:e.toDate,callback:function(t){e.toDate=t},expression:"toDate"}})],1)],1)],1),i("keep-alive",[i("generic-list-loader",{key:"vlx-"+e.tab+e.identifier+e.isFavPage,attrs:{"infinite-load":e.scrollMode,paginate:!e.scrollMode,"per-page":e.pageLength,"load-fn":e.getLoadFn()},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.data,s=t.isLoading;return[i("VideoCardList",{directives:[{name:"show",rawName:"v-show",value:e.scrollMode||!s,expression:"scrollMode || !lod"}],attrs:{videos:a,"include-channel":"",cols:e.colSizes,dense:e.currentGridSize>0,"hide-ignored-topics":"","hide-collabs":e.shouldHideCollabs,"for-org":e.isFavPage?"none":null}}),s?i("SkeletonCardList",{attrs:{cols:e.colSizes,dense:e.currentGridSize>0}}):e._e()]}}])})],1)]],2)],2)},Er=[];Ir._withStripped=!0;const Pr={};function Tr(e){for(let t in Pr)this[t]=Pr[t]}Vi(Mr,Ir,Er,!1,Tr,null,null,null).options.__file="src/views/HomeFave.vue";Xe.use(li);const Or=new li({mode:"history",base:"/Nabidex/",routes:[{path:"/",name:"home",component:()=>vi((()=>import("./ChannelNabinya.a7593f92.js")),["assets/ChannelNabinya.a7593f92.js","assets/ChannelNabinya.26954fd8.css","assets/vendor.f7b02bb7.js","assets/vendor.06e82a89.css"]),children:[{path:"",name:"channel",component:()=>vi((()=>import("./ChannelVideos.0fe283c8.js")),["assets/ChannelVideos.0fe283c8.js","assets/InfiniteLoad.af1880bf.css","assets/vendor.f7b02bb7.js","assets/vendor.06e82a89.css"])}]},{name:"watch",path:"/watch/:id?",component:()=>vi((()=>import("./WatchNabinya.d3444dd7.js")),["assets/WatchNabinya.d3444dd7.js","assets/WatchNabinya.2bb977ec.css","assets/SongItem.af0b257c.js","assets/SongItem.70fc9da0.css","assets/vendor.f7b02bb7.js","assets/vendor.06e82a89.css","assets/WatchInfo.f744d1c8.js","assets/WatchInfo.f906aa2e.css","assets/ChannelChip.f41fb5ea.js","assets/ChannelChip.a58c2866.css","assets/TruncatedText.1db39923.js","assets/TruncatedText.0408fe31.css","assets/Comment.856d50b2.js","assets/Comment.b796dfe2.css","assets/WatchQuickEditor.7ecf9827.js","assets/WatchQuickEditor.31333de8.css"])}],scrollBehavior:(e,t,i)=>(Un.state.isMobile||i||Un.dispatch("reloadCurrentPage",{source:"scrollBehavior",consumed:!1}),e.path===t.path?i:i||{x:0,y:0})});Or.beforeEach(((e,t,i)=>{t.path.match("^/watch")||(e.meta.prevPath=t.fullPath),t.query.lang&&(e.query.lang=t.query.lang);const a=e.query.lang,{lang:s}=Un.state.settings,o=a||s,n=e.query.org;n&&Un.state.currentOrg.name!==n&&Un.dispatch("orgs/fetchOrgs").then((()=>{const e=Un.state.orgs.orgs.find((e=>e.name===n));Un.commit("setCurrentOrg",e)})),"en"!==o?Ca(o).then((()=>i())):i()})),Xe.config.productionTip=!1,Xe.config.devtools="localhost"===window.location.hostname,Xe.config.performance=["localhost","staging.holodex.net"].includes(window.location.hostname),Xe.use(ci,{config:{id:"UA-178428556-1"}},Or),window.hideMeta||Xe.use(di,{refreshOnceOnNavigation:!0}),Xe.use(Ze),Xe.use(ui),Xe.use(hi),Xe.prototype.icons=pi,new Xe({i18n:ba,router:Or,store:Un,vuetify:xa,render:e=>e(cn)}).$mount("#app");export{Li as A,ko as C,er as G,Ar as L,ki as M,As as R,rr as S,xi as T,mr as V,vi as _,Bs as a,Pi as b,Os as c,gi as d,Ka as e,So as f,Ma as g,Ta as h,yi as i,bi as j,_i as k,fi as l,wi as m,Vi as n,Aa as o,Yn as p,cs as q,La as r,Oa as s};