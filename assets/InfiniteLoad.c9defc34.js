import{L as t,n as e}from"./main.a6f7fe89.js";import"./vendor.b002b14f.js";const s={name:"InfiniteLoad",components:{LoadingOverlay:t},props:{identifier:{type:[String,Number],default:+new Date},initVisible:{default:!0,type:Boolean}},data:()=>({STATUSES:Object.freeze({READY:0,LOADING:1,ERROR:2,COMPLETED:3}),status:0,nextPage:1,isVisible:!1}),watch:{identifier(){this.reset()}},mounted(){this.initVisible&&this.emitEvent()},methods:{reset(){this.status=this.STATUSES.READY},onIntersect(t,e,s){this.isVisible=s,this.status===this.STATUSES.READY&&s&&this.emitEvent()},emitEvent(){const t={loaded:()=>{this.nextPage+=1,this.status=this.STATUSES.READY,setTimeout((()=>{this.status===this.STATUSES.READY&&this.isVisible&&this.emitEvent()}),100)},completed:()=>{this.status=this.STATUSES.COMPLETED},error:()=>{this.status=this.STATUSES.ERROR},page:this.nextPage};this.$emit("infinite",t),this.status=this.STATUSES.LOADING}}};var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"intersect",rawName:"v-intersect",value:{handler:t.onIntersect,options:{threshold:[0,.5,1]}},expression:"{\n    handler: onIntersect,\n    options: {\n      threshold: [0, 0.5, 1.0],\n    },\n  }"}],key:t.identifier,staticClass:"d-flex justify-center py-4",staticStyle:{"min-height":"100px"}},[s("LoadingOverlay",{attrs:{"is-loading":t.status===t.STATUSES.LOADING,"show-error":t.status===t.STATUSES.ERROR}}),t.status===t.STATUSES.COMPLETED?s("div",[t._v(" End of list ")]):t._e()],1)},n=[];i._withStripped=!0;const a={};var o=e(s,i,n,!1,r,null,null,null);function r(t){for(let e in a)this[e]=a[e]}o.options.__file="src/components/common/InfiniteLoad.vue";const h=function(){return o.exports}();export{h as default};